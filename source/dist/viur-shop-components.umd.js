(function(V,x){typeof exports=="object"&&typeof module<"u"?x(exports,require("pinia"),require("vue-router"),require("vue"),require("@viur/vue-utils"),require("@viur/ckeditor5-build-classic"),require("@viur/viur-shop-client")):typeof define=="function"&&define.amd?define(["exports","pinia","vue-router","vue","@viur/vue-utils","@viur/ckeditor5-build-classic","@viur/viur-shop-client"],x):(V=typeof globalThis<"u"?globalThis:V||self,x(V.ViurShopComponents={},V.Pinia,V.VueRouter,V.Vue,V.ViurVueUtils,V.ViurCkeditor,V.ViurShopClient))})(this,function(V,x,T,o,we,$t,Gn){"use strict";var Ua=Object.defineProperty;var qa=(V,x,T)=>x in V?Ua(V,x,{enumerable:!0,configurable:!0,writable:!0,value:T}):V[x]=T;var qn=(V,x,T)=>qa(V,typeof x!="symbol"?x+"":x,T);var Hn;const j=x.defineStore("cartstore",()=>{const e=new Gn.ViURShopClient({host_url:window.location.origin==="http://localhost:8081"?"http://localhost:8080":window.location.origin}),t=o.reactive({basketRootNode:{},whishlistRootNodes:[],children:{},structure:{address:{},cart:{}},billingAddress:{},shippingAddress:{}});async function n(){await s()}async function r(g){return await e.cart_list({cart_key:g})}async function s(){(await e.cart_list()).forEach(u=>{u.is_root_node&&(u.cart_type==="basket"?t.basketRootNode=u:t.whishlistRootNodes.push(u))})}async function l(g,u){let p=await e.article_add({article_key:g,parent_cart_key:u});console.log("addToCart",p)}async function i(g,u){let p=await e.article_view({article_key:g,parent_cart_key:u});console.log("getArticleView",p)}async function c(g,u){let p=await e.article_remove({article_key:g,parent_cart_key:u});console.log("remove Resp",p)}async function a(g,u,p){let h=await e.article_update({article_key:g,parent_cart_key:u,quantity:p,quantity_mode:"replace"});console.log("update Resp",h)}async function d(){const g=await e.address_structure();t.structure.address=g.addSkel}async function m(){const g=await e.address_list();for(const u of g)u.address_type==="billing"&&(t.billingAddress=u),u.address_type==="shipping"&&(t.shippingAddress=u)}async function f(g){await e.discount_add({code:g,discount_key:void 0})}return{state:t,addToCart:l,getArticleView:i,removeItem:c,updateItem:a,init:n,getAddressStructure:d,getChildren:r,addDiscount:f,getAddress:m}}),E=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Wn=o.defineComponent({props:{},components:{},setup(e,t){const n=T.useRoute();return{state:o.reactive({}),route:n}}}),Kn={class:"home"};function Zn(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("div",Kn,"View "+o.toDisplayString(e.route.path)+" is missing.",1)}const Jn=[{path:"/:pathMatch(.*)*",name:"view_missing",component:E(Wn,[["render",Zn]])},{path:"/shop/category/:identifier",name:"CategoryView",component:()=>Promise.resolve().then(()=>xi)},{path:"/shop/item/:item",name:"itemView",component:()=>Promise.resolve().then(()=>Ha)},{path:"/shop/cart/view",name:"CartView",component:()=>Promise.resolve().then(()=>Jo)},{path:"/shop/order/",name:"OrderView",component:()=>Promise.resolve().then(()=>Ci)},{path:"/shop/order/confirm",name:"ConfirmView",component:()=>Promise.resolve().then(()=>Hr)}];function Xn(e,t=!1){let n=[];return t?n=e:n=e.concat(Jn),T.createRouter({history:T.createWebHashHistory("/"),routes:n})}const Yn=["panel","disabled"],Qn={class:"viur-shop-order-step"},eo=["name","library"],to={class:"viur-shop-order-status-text"},no={class:"viur-shop-order-status-span"},oo={key:0,name:"chevron-right",class:"viur-shop-order-tab-check"},ro=E({__name:"StepperTab",props:{tab:{type:String,required:!0},tabIdx:{type:Number,required:!0},stepperLength:{type:Number,required:!0},tabs:{type:Object,required:!0}},setup(e){return(t,n)=>{var r;return o.openBlock(),o.createElementBlock("sl-tab",{class:"viur-shop-order-tab",slot:"nav",panel:e.tab,disabled:e.tabs[e.tab].disabled},[o.createElementVNode("div",Qn,[(r=e.tabs[e.tab].icon)!=null&&r.name?(o.openBlock(),o.createElementBlock("sl-icon",{key:0,class:"viur-shop-order-step-icon",name:e.tabs[e.tab].icon.name,library:e.tabs[e.tab].icon.library},null,8,eo)):o.createCommentVNode("",!0),o.createElementVNode("div",to,[o.createTextVNode(o.toDisplayString(e.tabIdx+1)+". ",1),o.createElementVNode("span",no,o.toDisplayString(e.tabs[e.tab].displayName),1)])]),e.tabIdx<e.stepperLength-1?(o.openBlock(),o.createElementBlock("sl-icon",oo)):o.createCommentVNode("",!0)],8,Yn)}}},[["__scopeId","data-v-e6e66706"]]),so=["name"],lo=E({__name:"StepperItem",props:{tab:{type:String,required:!0},tabs:{type:Object,required:!0}},emits:["tabChange"],setup(e,{emit:t}){const n=t;function r(){n("goToStart")}return(s,l)=>(o.openBlock(),o.createElementBlock("sl-tab-panel",{class:"viur-shop-order-tab-panel",name:e.tab},[(o.openBlock(),o.createBlock(o.resolveDynamicComponent(e.tabs[e.tab].component),o.mergeProps(e.tabs[e.tab].props?e.tabs[e.tab].props:"",{onGoToStart:l[0]||(l[0]=i=>r())}),null,16))],8,so))}},[["__scopeId","data-v-f815b85b"]]),io=E({__name:"StepperTrigger",props:{index:{type:Number,required:!0}},emits:{prevTab:null,nextTab:null},setup(e,{emit:t}){const n=t;function r(){n("prevTab")}function s(){n("nextTab")}return(l,i)=>(o.openBlock(),o.createElementBlock(o.Fragment,null,[o.withDirectives(o.createElementVNode("sl-button",{type:"submit",onClick:i[0]||(i[0]=c=>r())}," Zurück ",512),[[o.vShow,e.index!==0]]),o.createElementVNode("sl-button",{type:"submit",variant:"primary",onClick:i[1]||(i[1]=c=>s())}," Weiter ")],64))}},[["__scopeId","data-v-90b8c464"]]),ao={class:"viur-shop-discount"},co={class:"viur-shop-discount-alert"},uo={key:0},go={key:0},mo={key:1},fo={__name:"Discount",setup(e){const t=j(),n=o.ref(null),r=o.ref(null),s=o.reactive({errorMessage:""});async function l(){r.value.hide();const i=n.value.value;if(!i){r.value.show(),s.errorMessage="Es wurde kein Rabattcode eingegeben";return}let c=await t.addDiscount(i);console.log("resp",c)}return(i,c)=>(o.openBlock(),o.createElementBlock(o.Fragment,null,[o.createElementVNode("div",ao,[o.createElementVNode("sl-input",{label:"Rabatt Code",ref_key:"codeInput",ref:n,class:"viur-shop-discount-input"},null,512),o.createElementVNode("sl-button",{onClick:l,class:"viur-shop-discount-submit-btn"},"Einlösen")]),o.createElementVNode("div",co,[o.createElementVNode("sl-alert",{ref_key:"errorMessageContainer",ref:r,closable:"",duration:"2000"},[c[0]||(c[0]=o.createElementVNode("sl-icon",{slot:"icon",name:"info-circle"},null,-1)),o.createTextVNode(" "+o.toDisplayString(s.errorMessage),1)],512)]),o.createElementVNode("div",null,[o.unref(t).state.basketRootNode.discount?(o.openBlock(),o.createElementBlock("div",uo,[o.unref(t).state.basketRootNode.discount.dest.discount_type==="absolute"?(o.openBlock(),o.createElementBlock("span",go," Sie haben einen Rabattcode im Wert von "+o.toDisplayString(o.unref(t).state.basketRootNode.discount.dest.absolute)+" € eingegeben ",1)):o.createCommentVNode("",!0),o.unref(t).state.basketRootNode.discount.dest.discount_type==="percentage"?(o.openBlock(),o.createElementBlock("span",mo," Sie haben einen Rabattcode im Wert von "+o.toDisplayString(o.unref(t).state.basketRootNode.discount.dest.percentage)+" % eingegeben ",1)):o.createCommentVNode("",!0)])):o.createCommentVNode("",!0)])],64))}},po={key:0},ho={key:1},So={class:"viur-shop-cart-sidebar-info-line"},yo=["value"],bo={class:"viur-shop-cart-sidebar-info-line"},$o=["value"],wo={class:"viur-shop-cart-sidebar-info-line"},Co=["value"],ko={class:"viur-shop-cart-sidebar-info-line total"},Eo=["value"],_o={class:"viur-shop-cart-sidebar-btn-wrap"},vo={class:"viur-shop-discount-wrap"},Vo={__name:"ShopSummary",setup(e){const t=j(),n=o.reactive({basketRootNode:{},loading:!0});return o.onBeforeMount(async()=>{await t.init(),n.basketRootNode=t.state.basketRootNode,n.loading=!1}),(r,s)=>{var l,i,c;return n.loading?(o.openBlock(),o.createElementBlock("sl-spinner",po)):(o.openBlock(),o.createElementBlock("div",ho,[s[7]||(s[7]=o.createElementVNode("h2",{class:"viur-shop-cart-sidebar-headline headline"},"Zusammenfassung",-1)),s[8]||(s[8]=o.createElementVNode("br",null,null,-1)),o.createElementVNode("div",So,[s[0]||(s[0]=o.createElementVNode("span",null,"Zwischensumme",-1)),o.createElementVNode("sl-format-number",{lang:"de",type:"currency",currency:"EUR",value:n.basketRootNode.total},null,8,yo),s[1]||(s[1]=o.createElementVNode("br",null,null,-1))]),o.createElementVNode("div",bo,[s[2]||(s[2]=o.createElementVNode("span",null,"Rabatt",-1)),o.createElementVNode("sl-format-number",{lang:"de",type:"currency",currency:"EUR",value:(l=n.basketRootNode)!=null&&l.discount?n.basketRootNode.discount:0},null,8,$o)]),o.createElementVNode("div",wo,[s[3]||(s[3]=o.createElementVNode("span",null,"Versandkosten",-1)),o.createElementVNode("sl-format-number",{lang:"de",type:"currency",currency:"EUR",value:(i=n.basketRootNode)!=null&&i.shipping?n.basketRootNode.shipping:0},null,8,Co)]),o.createElementVNode("div",ko,[s[4]||(s[4]=o.createElementVNode("span",null,"Gesamt:",-1)),o.createElementVNode("sl-format-number",{lang:"de",type:"currency",currency:"EUR",value:n.basketRootNode.total+((c=n.basketRootNode)==null?void 0:c.shipping)-n.basketRootNode.discount},null,8,Eo)]),o.createElementVNode("div",_o,[o.createElementVNode("div",vo,[o.createVNode(fo)]),s[5]||(s[5]=o.createElementVNode("sl-button",{variant:"primary",size:"medium"}," Jetzt Bestellen ",-1)),s[6]||(s[6]=o.createElementVNode("sl-button",{size:"medium",variant:"info"},[o.createElementVNode("sl-icon",{name:"paypal",slot:"prefix"}),o.createTextVNode(" Paypal ")],-1))])]))}}},Bo={class:"bind viur-shop-wrap"},wt=E({__name:"ShopOrderStepper",props:{tabs:{type:Object,required:!0},sidebar:{type:Boolean,default:!0,required:!1},trigger:{type:Boolean,default:!0,required:!1},sidebarBottom:{type:Boolean,default:!1,required:!1}},emits:["tabChange"],setup(e,{emit:t}){const n=e,r=t,s=o.reactive({tabNames:o.computed(()=>i(n.tabs)),tabIdx:0,currentTab:""}),l=o.ref(null);function i(f){let g=[],u=[];for(const p in f)f[p].position?g.push([p,f[p].position]):g.push([p,0]);return g.sort((p,h)=>p[1]-h[1]),g.forEach(p=>{u.push(p[0])}),u}function c(f){s.currentTab=f==null?void 0:f.detail.name,s.tabIdx=s.tabNames.indexOf(s.currentTab),r("tabChange",f)}function a(){s.tabIdx>0&&l.value.show(s.tabNames[s.tabIdx-1])}function d(){s.tabIdx<s.tabNames.length-1&&l.value.show(s.tabNames[s.tabIdx+1])}function m(){l.value.show(s.tabNames[0])}return o.onBeforeMount(()=>{const f=i(n.tabs);s.currentTab=f[0]}),(f,g)=>(o.openBlock(),o.createElementBlock("div",Bo,[o.createElementVNode("div",{class:o.normalizeClass(["viur-shop-stepper-wrap",{"full-width":e.sidebarBottom}])},[o.renderSlot(f.$slots,"main",{},()=>[o.createElementVNode("sl-tab-group",{class:"viur-shop-order-tabgroup",noScrollControls:"",onSlTabShow:g[1]||(g[1]=u=>c(u)),ref_key:"tabGroup",ref:l},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(s.tabNames,(u,p)=>(o.openBlock(),o.createBlock(ro,{key:u,tab:u,tabs:e.tabs,tabIdx:p,stepperLength:s.tabNames.length},null,8,["tab","tabs","tabIdx","stepperLength"]))),128)),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(s.tabNames,u=>(o.openBlock(),o.createBlock(lo,{tab:u,tabs:e.tabs,key:u,onGoToStart:g[0]||(g[0]=p=>m())},null,8,["tab","tabs"]))),128))],544)],!0),e.trigger?o.renderSlot(f.$slots,"trigger",{key:0},()=>[s.tabIdx!==s.tabNames.length-1?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass(["viur-shop-form-footer",{"flex-end":s.tabIdx===0,"last-row":e.sidebarBottom}])},[o.createVNode(io,{index:s.tabIdx,onPrevTab:a,onNextTab:d},null,8,["index"])],2)):o.createCommentVNode("",!0)],!0):o.createCommentVNode("",!0)],2),e.sidebar&&s.tabIdx<s.tabNames.length-1?o.renderSlot(f.$slots,"sidebar",{key:0},()=>[o.createElementVNode("div",{class:o.normalizeClass(["viur-shop-sidebar-wrap",{bottom:e.sidebarBottom}])},[o.createVNode(Vo)],2)],!0):o.createCommentVNode("",!0)]))}},[["__scopeId","data-v-1c7a5ff9"]]),De={props:{size:{type:String,default:"2"},active:{type:Boolean,default:!0},logo:{default:"logo-cube.svg",type:String},color:{default:"var(--sl-color-primary-500)",type:String}},setup(e,t){const n=o.reactive({trackWidth:o.computed(()=>`${e.size/30}rem`),outerSize:o.computed(()=>`calc(${e.size}rem + ${n.trackWidth})`),spinnerSize:o.computed(()=>`${e.size}rem`),logoSize:o.computed(()=>`calc(${e.size}rem - ${n.trackWidth} * 10)`),shadow:o.computed(()=>`0px 0px ${e.size/6}rem 0 color-mix(in hsl, var(--sl-color-neutral-1000), 80% transparent)`)});return{state:n}}},Ct=()=>{o.useCssVars(e=>({"093d3ce6":e.state.outerSize,59135762:e.state.shadow,"752117bb":e.state.logoSize,"6b8fc82a":e.state.spinnerSize,"7aa7f471":e.color,"4e300eea":e.state.trackWidth}))},kt=De.setup;De.setup=kt?(e,t)=>(Ct(),kt(e,t)):Ct;const Ro={key:0,class:"loading"},No={class:"logo"},Ao=["src"];function Io(e,t,n,r,s,l){return o.openBlock(),o.createBlock(o.Transition,null,{default:o.withCtx(()=>[n.active?(o.openBlock(),o.createElementBlock("div",Ro,[t[0]||(t[0]=o.createElementVNode("sl-spinner",{class:"loader"},null,-1)),o.createElementVNode("div",No,[o.createElementVNode("sl-icon",{src:n.logo,class:"logo-color"},null,8,Ao)])])):o.createCommentVNode("",!0)]),_:1})}const Po=E(De,[["render",Io],["__scopeId","data-v-b78f8b7f"]]),Mo={__name:"CartNode",props:{node:{type:Object,required:!0}},setup(e){return o.reactive({}),(t,n)=>(o.openBlock(),o.createElementBlock("pre",null,o.toDisplayString(e.node.name),1))}},xo={horizontal:"",class:"viur-shop-cart-leaf"},Fo=["src"],Lo=["innerHTML"],Do={class:"viur-shop-cart-leaf-artno"},Oo=["innerHTML"],To={class:"viur-shop-cart-leaf-quantity"},jo={class:"viur-shop-cart-leaf-unitprice"},zo=["value"],Ho={class:"viur-shop-cart-leaf-actions"},Uo={class:"viur-shop-cart-leaf-price"},qo=["value"],Go=E({__name:"CartLeaf",props:{leaf:{type:Object,required:!0},node:{type:Object,required:!0},placeholder:{type:String,required:!0}},emits:["updateItem","removeItem"],setup(e,{emit:t}){const n=e,r=t,s=o.reactive({leaf:{}});function l(a){return a!==void 0?we.Request.downloadUrlFor(a):n.placeholder}function i(a,d,m,f){r("updateItem",{item:a,articleKey:d,node:m,quantity:f})}function c(a,d,m){r("removeItem",{item:a,articleKey:d,node:m})}return o.onBeforeMount(()=>{s.leaf=n.leaf}),(a,d)=>(o.openBlock(),o.createElementBlock("sl-card",xo,[o.createElementVNode("img",{class:"viur-shop-cart-leaf-image",slot:"image",src:l(s.leaf.article.dest.shop_image?s.leaf.article.dest.shop_image:void 0)},null,8,Fo),o.createElementVNode("h4",{class:"viur-shop-cart-leaf-headline headline",innerHTML:s.leaf.article.dest.shop_name},null,8,Lo),o.createElementVNode("h5",Do,o.toDisplayString(s.leaf.article.dest.shop_art_no_or_gtin),1),o.createElementVNode("div",{class:"viur-shop-cart-leaf-description",innerHTML:s.leaf.article.dest.shop_description},null,8,Oo),o.createElementVNode("div",To,[o.withDirectives(o.createElementVNode("sl-input",{class:"viur-shop-cart-leaf-value viur-shop-cart-leaf-value--quantity",type:"number",label:"Anzahl",placeholder:"Number",min:"0","onUpdate:modelValue":d[0]||(d[0]=m=>s.leaf.quantity=m),onInput:d[1]||(d[1]=m=>i(s.leaf,s.leaf.article.dest.key,e.node,s.leaf.quantity))},null,544),[[o.vModelText,s.leaf.quantity]])]),o.createElementVNode("div",jo,[d[3]||(d[3]=o.createElementVNode("div",{class:"viur-shop-cart-leaf-label"},"Stückpreis",-1)),o.createElementVNode("sl-format-number",{class:"viur-shop-cart-leaf-value viur-shop-cart-leaf-value--unitprice",lang:"de",type:"currency",currency:"EUR",value:e.leaf.shop_price_retail},null,8,zo)]),o.createElementVNode("div",Ho,[d[5]||(d[5]=o.createElementVNode("sl-button",{size:"small",outline:"",class:"viur-shop-cart-leaf-add-to-favourites-btn",variant:"primary",title:"Add to favourites"},[o.createElementVNode("sl-icon",{name:"heart",slot:"prefix"})],-1)),o.createElementVNode("sl-button",{size:"small",outline:"",class:"viur-shop-cart-leaf-delete-btn",variant:"primary",title:"Remove from cart",onClick:d[2]||(d[2]=m=>c(s.leaf,s.leaf.article.dest.key,e.node))},d[4]||(d[4]=[o.createElementVNode("sl-icon",{name:"trash",slot:"prefix"},null,-1)]))]),o.createElementVNode("div",Uo,[d[6]||(d[6]=o.createElementVNode("div",{class:"viur-shop-cart-leaf-label"},"Gesamtpreis",-1)),o.createElementVNode("sl-format-number",{class:"viur-shop-cart-leaf-value viur-shop-cart-leaf-value--price",lang:"de",type:"currency",currency:"EUR",value:e.leaf.shop_price_retail*e.leaf.quantity},null,8,qo)])]))}},[["__scopeId","data-v-a8bf8404"]]),Wo={key:0},Ko={class:"footer-wrap",slot:"footer"},Zo={class:"viur-shop-cart-node"},Ce=E({__name:"CartView",props:{mode:{type:String,default:"basket"},cartKey:{type:String,required:!0},sidebar:{type:Boolean,default:!0},placeholder:{type:String,required:!0}},setup(e){const t=e,n=j(),r=o.ref(null),s=o.reactive({itemsIsInit:o.computed(()=>!0),images:{},currentItem:{},currentNode:{},nodes:[],leaves:{}});o.computed(()=>t.mode==="basket"?n.state.basketRootNode.key:t.cartKey);async function l(){r.value.hide(),await n.updateItem(s.currentItem.article.dest.key,s.currentNode.key,0),await d()}async function i(f){console.log("updateItem :",f),f.quantity===0?(r.value.show(),s.currentItem=f.item,s.currentNode=f.node):(await n.updateItem(f.articleKey,f.node.key,f.quantity),await n.init())}function c(f){console.log("removeItem :",f),r.value.show(),s.currentItem=f.item,s.currentNode=f.node}async function a(){s.leaves[s.currentNode.key].forEach(f=>{f.key===s.currentItem.key&&(f.quantity=1)}),s.currentItem={},s.currentNode={}}async function d(){s.nodes=[],s.leaves={},await n.init(),await m()}async function m(f=t.cartKey){console.log("debug getChildren parentKey from comp: ",f);const g=await n.getChildren(f);console.log("getChildren children: ",g),g.forEach(async u=>{u.skel_type==="node"?(s.nodes.push(u),await m(u.key)):(Object.keys(s.leaves).includes(f)||(s.leaves[f]=[]),s.leaves[f].push(u))})}return o.onBeforeMount(async()=>{await n.init(),await m(),t.mode==="basket"&&s.nodes.push(n.state.basketRootNode),console.log("state.nodes test",s.nodes),console.log("state.leaves",s.leaves)}),(f,g)=>e.cartKey.length?(o.openBlock(),o.createElementBlock(o.Fragment,{key:1},[o.createElementVNode("sl-dialog",{ref_key:"confirm",ref:r,onSlHide:a},[g[1]||(g[1]=o.createElementVNode("p",null,"Möchten Sie den Artikel wirklich aus dem Warenkorb entfernen?",-1)),o.createElementVNode("div",Ko,[o.createElementVNode("sl-button",{variant:"danger",onClick:g[0]||(g[0]=u=>r.value.hide()),size:"medium"}," Abbrechen "),o.createElementVNode("sl-button",{variant:"success",onClick:l,size:"medium"}," Aus Warenkorb entfernen ")])],544),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(s.nodes,u=>(o.openBlock(),o.createElementBlock("div",Zo,[Object.keys(s.leaves).includes(u.key)?(o.openBlock(),o.createElementBlock(o.Fragment,{key:0},[o.createVNode(Mo,{node:u},null,8,["node"]),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(s.leaves[u.key],p=>(o.openBlock(),o.createBlock(Go,{key:p.key,leaf:p,node:u,placeholder:e.placeholder,onRemoveItem:c,onUpdateItem:i},null,8,["leaf","node","placeholder"]))),128))],64)):o.createCommentVNode("",!0)]))),256)),g[2]||(g[2]=o.createElementVNode("div",{class:"viur-shop-cart-mobile-footer"},[o.createElementVNode("sl-button",{variant:"primary",size:"medium"}," Jetzt Bestellen")],-1))],64)):(o.openBlock(),o.createElementBlock("sl-spinner",Wo))}},[["__scopeId","data-v-915785ee"]]),Jo=Object.freeze(Object.defineProperty({__proto__:null,default:Ce},Symbol.toStringTag,{value:"Module"}));/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Xo(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function q(e,t){return typeof e=="function"?e(t):e}function L(e,t){return n=>{t.setState(r=>({...r,[e]:q(n,r[e])}))}}function ke(e){return e instanceof Function}function Yo(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Qo(e,t){const n=[],r=s=>{s.forEach(l=>{n.push(l);const i=t(l);i!=null&&i.length&&r(i)})};return r(e),n}function $(e,t,n){let r=[],s;return l=>{let i;n.key&&n.debug&&(i=Date.now());const c=e(l);if(!(c.length!==r.length||c.some((m,f)=>r[f]!==m)))return s;r=c;let d;if(n.key&&n.debug&&(d=Date.now()),s=t(...c),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const m=Math.round((Date.now()-i)*100)/100,f=Math.round((Date.now()-d)*100)/100,g=f/16,u=(p,h)=>{for(p=String(p);p.length<h;)p=" "+p;return p};console.info(`%c⏱ ${u(f,5)} /${u(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function w(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:process.env.NODE_ENV==="development"&&n,onChange:r}}function er(e,t,n,r){const s=()=>{var i;return(i=l.getValue())!=null?i:e.options.renderFallbackValue},l={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:$(()=>[e,n,t,l],(i,c,a,d)=>({table:i,column:c,row:a,cell:d,getValue:d.getValue,renderValue:d.renderValue}),w(e.options,"debugCells","cell.getContext"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(l,n,t,e)},{}),l}function tr(e,t,n,r){var s,l;const c={...e._getDefaultColumnDef(),...t},a=c.accessorKey;let d=(s=(l=c.id)!=null?l:a?typeof String.prototype.replaceAll=="function"?a.replaceAll(".","_"):a.replace(/\./g,"_"):void 0)!=null?s:typeof c.header=="string"?c.header:void 0,m;if(c.accessorFn?m=c.accessorFn:a&&(a.includes(".")?m=g=>{let u=g;for(const h of a.split(".")){var p;u=(p=u)==null?void 0:p[h],process.env.NODE_ENV!=="production"&&u===void 0&&console.warn(`"${h}" in deeply nested key "${a}" returned undefined.`)}return u}:m=g=>g[c.accessorKey]),!d)throw process.env.NODE_ENV!=="production"?new Error(c.accessorFn?"Columns require an id when using an accessorFn":"Columns require an id when using a non-string header"):new Error;let f={id:`${String(d)}`,accessorFn:m,parent:r,depth:n,columnDef:c,columns:[],getFlatColumns:$(()=>[!0],()=>{var g;return[f,...(g=f.columns)==null?void 0:g.flatMap(u=>u.getFlatColumns())]},w(e.options,"debugColumns","column.getFlatColumns")),getLeafColumns:$(()=>[e._getOrderColumnsFn()],g=>{var u;if((u=f.columns)!=null&&u.length){let p=f.columns.flatMap(h=>h.getLeafColumns());return g(p)}return[f]},w(e.options,"debugColumns","column.getLeafColumns"))};for(const g of e._features)g.createColumn==null||g.createColumn(f,e);return f}const F="debugHeaders";function Et(e,t,n){var r;let l={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],c=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(c),i.push(a)};return c(l),i},getContext:()=>({table:e,header:l,column:t})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(l,e)}),l}const nr={createTable:e=>{e.getHeaderGroups=$(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var l,i;const c=(l=r==null?void 0:r.map(f=>n.find(g=>g.id===f)).filter(Boolean))!=null?l:[],a=(i=s==null?void 0:s.map(f=>n.find(g=>g.id===f)).filter(Boolean))!=null?i:[],d=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(s!=null&&s.includes(f.id)));return Ee(t,[...c,...d,...a],e)},w(e.options,F,"getHeaderGroups")),e.getCenterHeaderGroups=$(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(l=>!(r!=null&&r.includes(l.id))&&!(s!=null&&s.includes(l.id))),Ee(t,n,e,"center")),w(e.options,F,"getCenterHeaderGroups")),e.getLeftHeaderGroups=$(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const l=(s=r==null?void 0:r.map(i=>n.find(c=>c.id===i)).filter(Boolean))!=null?s:[];return Ee(t,l,e,"left")},w(e.options,F,"getLeftHeaderGroups")),e.getRightHeaderGroups=$(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const l=(s=r==null?void 0:r.map(i=>n.find(c=>c.id===i)).filter(Boolean))!=null?s:[];return Ee(t,l,e,"right")},w(e.options,F,"getRightHeaderGroups")),e.getFooterGroups=$(()=>[e.getHeaderGroups()],t=>[...t].reverse(),w(e.options,F,"getFooterGroups")),e.getLeftFooterGroups=$(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),w(e.options,F,"getLeftFooterGroups")),e.getCenterFooterGroups=$(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),w(e.options,F,"getCenterFooterGroups")),e.getRightFooterGroups=$(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),w(e.options,F,"getRightFooterGroups")),e.getFlatHeaders=$(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),w(e.options,F,"getFlatHeaders")),e.getLeftFlatHeaders=$(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),w(e.options,F,"getLeftFlatHeaders")),e.getCenterFlatHeaders=$(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),w(e.options,F,"getCenterFlatHeaders")),e.getRightFlatHeaders=$(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),w(e.options,F,"getRightFlatHeaders")),e.getCenterLeafHeaders=$(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),w(e.options,F,"getCenterLeafHeaders")),e.getLeftLeafHeaders=$(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),w(e.options,F,"getLeftLeafHeaders")),e.getRightLeafHeaders=$(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),w(e.options,F,"getRightLeafHeaders")),e.getLeafHeaders=$(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,l,i,c,a,d;return[...(s=(l=t[0])==null?void 0:l.headers)!=null?s:[],...(i=(c=n[0])==null?void 0:c.headers)!=null?i:[],...(a=(d=r[0])==null?void 0:d.headers)!=null?a:[]].map(m=>m.getLeafHeaders()).flat()},w(e.options,F,"getLeafHeaders"))}};function Ee(e,t,n,r){var s,l;let i=0;const c=function(g,u){u===void 0&&(u=1),i=Math.max(i,u),g.filter(p=>p.getIsVisible()).forEach(p=>{var h;(h=p.columns)!=null&&h.length&&c(p.columns,u+1)},0)};c(e);let a=[];const d=(g,u)=>{const p={depth:u,id:[r,`${u}`].filter(Boolean).join("_"),headers:[]},h=[];g.forEach(S=>{const y=[...h].reverse()[0],b=S.column.depth===p.depth;let C,B=!1;if(b&&S.column.parent?C=S.column.parent:(C=S.column,B=!0),y&&(y==null?void 0:y.column)===C)y.subHeaders.push(S);else{const M=Et(n,C,{id:[r,u,C.id,S==null?void 0:S.id].filter(Boolean).join("_"),isPlaceholder:B,placeholderId:B?`${h.filter(k=>k.column===C).length}`:void 0,depth:u,index:h.length});M.subHeaders.push(S),h.push(M)}p.headers.push(S),S.headerGroup=p}),a.push(p),u>0&&d(h,u-1)},m=t.map((g,u)=>Et(n,g,{depth:i,index:u}));d(m,i-1),a.reverse();const f=g=>g.filter(p=>p.column.getIsVisible()).map(p=>{let h=0,S=0,y=[0];p.subHeaders&&p.subHeaders.length?(y=[],f(p.subHeaders).forEach(C=>{let{colSpan:B,rowSpan:M}=C;h+=B,y.push(M)})):h=1;const b=Math.min(...y);return S=S+b,p.colSpan=h,p.rowSpan=S,{colSpan:h,rowSpan:S}});return f((s=(l=a[0])==null?void 0:l.headers)!=null?s:[]),a}const or=(e,t,n,r,s,l,i)=>{let c={id:t,index:r,original:n,depth:s,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:a=>{if(c._valuesCache.hasOwnProperty(a))return c._valuesCache[a];const d=e.getColumn(a);if(d!=null&&d.accessorFn)return c._valuesCache[a]=d.accessorFn(c.original,r),c._valuesCache[a]},getUniqueValues:a=>{if(c._uniqueValuesCache.hasOwnProperty(a))return c._uniqueValuesCache[a];const d=e.getColumn(a);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(c._uniqueValuesCache[a]=d.columnDef.getUniqueValues(c.original,r),c._uniqueValuesCache[a]):(c._uniqueValuesCache[a]=[c.getValue(a)],c._uniqueValuesCache[a])},renderValue:a=>{var d;return(d=c.getValue(a))!=null?d:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Qo(c.subRows,a=>a.subRows),getParentRow:()=>c.parentId?e.getRow(c.parentId,!0):void 0,getParentRows:()=>{let a=[],d=c;for(;;){const m=d.getParentRow();if(!m)break;a.push(m),d=m}return a.reverse()},getAllCells:$(()=>[e.getAllLeafColumns()],a=>a.map(d=>er(e,c,d,d.id)),w(e.options,"debugRows","getAllCells")),_getAllCellsByColumnId:$(()=>[c.getAllCells()],a=>a.reduce((d,m)=>(d[m.column.id]=m,d),{}),w(e.options,"debugRows","getAllCellsByColumnId"))};for(let a=0;a<e._features.length;a++){const d=e._features[a];d==null||d.createRow==null||d.createRow(c,e)}return c},rr={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},_t=(e,t,n)=>{var r,s;const l=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(l))};_t.autoRemove=e=>D(e);const vt=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};vt.autoRemove=e=>D(e);const Vt=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};Vt.autoRemove=e=>D(e);const Bt=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Bt.autoRemove=e=>D(e)||!(e!=null&&e.length);const Rt=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});Rt.autoRemove=e=>D(e)||!(e!=null&&e.length);const Nt=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});Nt.autoRemove=e=>D(e)||!(e!=null&&e.length);const At=(e,t,n)=>e.getValue(t)===n;At.autoRemove=e=>D(e);const It=(e,t,n)=>e.getValue(t)==n;It.autoRemove=e=>D(e);const Oe=(e,t,n)=>{let[r,s]=n;const l=e.getValue(t);return l>=r&&l<=s};Oe.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,l=t===null||Number.isNaN(r)?-1/0:r,i=n===null||Number.isNaN(s)?1/0:s;if(l>i){const c=l;l=i,i=c}return[l,i]},Oe.autoRemove=e=>D(e)||D(e[0])&&D(e[1]);const z={includesString:_t,includesStringSensitive:vt,equalsString:Vt,arrIncludes:Bt,arrIncludesAll:Rt,arrIncludesSome:Nt,equals:At,weakEquals:It,inNumberRange:Oe};function D(e){return e==null||e===""}const sr={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:L("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?z.includesString:typeof r=="number"?z.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?z.equals:Array.isArray(r)?z.arrIncludes:z.weakEquals},e.getFilterFn=()=>{var n,r;return ke(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:z[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),l=r==null?void 0:r.find(m=>m.id===e.id),i=q(n,l?l.value:void 0);if(Pt(s,i,e)){var c;return(c=r==null?void 0:r.filter(m=>m.id!==e.id))!=null?c:[]}const a={id:e.id,value:i};if(l){var d;return(d=r==null?void 0:r.map(m=>m.id===e.id?a:m))!=null?d:[]}return r!=null&&r.length?[...r,a]:[a]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var l;return(l=q(t,s))==null?void 0:l.filter(i=>{const c=n.find(a=>a.id===i.id);if(c){const a=c.getFilterFn();if(Pt(a,i.value,c))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Pt(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Te={sum:(e,t,n)=>n.reduce((r,s)=>{const l=s.getValue(e);return r+(typeof l=="number"?l:0)},0),min:(e,t,n)=>{let r;return n.forEach(s=>{const l=s.getValue(e);l!=null&&(r>l||r===void 0&&l>=l)&&(r=l)}),r},max:(e,t,n)=>{let r;return n.forEach(s=>{const l=s.getValue(e);l!=null&&(r<l||r===void 0&&l>=l)&&(r=l)}),r},extent:(e,t,n)=>{let r,s;return n.forEach(l=>{const i=l.getValue(e);i!=null&&(r===void 0?i>=i&&(r=s=i):(r>i&&(r=i),s<i&&(s=i)))}),[r,s]},mean:(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let l=s.getValue(e);l!=null&&(l=+l)>=l&&(++n,r+=l)}),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map(l=>l.getValue(e));if(!Yo(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((l,i)=>l-i);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},unique:(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),uniqueCount:(e,t)=>new Set(t.map(n=>n.getValue(e))).size,count:(e,t)=>t.length},lr={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:L("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Te.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Te.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return ke(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Te[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function ir(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(l=>!t.includes(l.id));return n==="remove"?r:[...t.map(l=>e.find(i=>i.id===l)).filter(Boolean),...r]}const ar={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:L("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=$(n=>[ae(t,n)],n=>n.findIndex(r=>r.id===e.id),w(t.options,"debugColumns","getIndex")),e.getIsFirstColumn=n=>{var r;return((r=ae(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=ae(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=$(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let l=[];if(!(t!=null&&t.length))l=s;else{const i=[...t],c=[...s];for(;c.length&&i.length;){const a=i.shift(),d=c.findIndex(m=>m.id===a);d>-1&&l.push(c.splice(d,1)[0])}l=[...l,...c]}return ir(l,n,r)},w(e.options,"debugTable","_getOrderColumnsFn"))}},je=()=>({left:[],right:[]}),cr={getInitialState:e=>({columnPinning:je(),...e}),getDefaultOptions:e=>({onColumnPinningChange:L("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var l,i;if(n==="right"){var c,a;return{left:((c=s==null?void 0:s.left)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((a=s==null?void 0:s.right)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var d,m;return{left:[...((d=s==null?void 0:s.left)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((m=s==null?void 0:s.right)!=null?m:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((l=s==null?void 0:s.left)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),right:((i=s==null?void 0:s.right)!=null?i:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,l,i;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((l=(i=t.options.enableColumnPinning)!=null?i:t.options.enablePinning)!=null?l:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(c=>c.id),{left:r,right:s}=t.getState().columnPinning,l=n.some(c=>r==null?void 0:r.includes(c)),i=n.some(c=>s==null?void 0:s.includes(c));return l?"left":i?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=$(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const l=[...r??[],...s??[]];return n.filter(i=>!l.includes(i.column.id))},w(t.options,"debugRows","getCenterVisibleCells")),e.getLeftVisibleCells=$(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(l=>n.find(i=>i.column.id===l)).filter(Boolean).map(l=>({...l,position:"left"})),w(t.options,"debugRows","getLeftVisibleCells")),e.getRightVisibleCells=$(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(l=>n.find(i=>i.column.id===l)).filter(Boolean).map(l=>({...l,position:"right"})),w(t.options,"debugRows","getRightVisibleCells"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?je():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:je())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,l;return!!((s=r.left)!=null&&s.length||(l=r.right)!=null&&l.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=$(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),w(e.options,"debugColumns","getLeftLeafColumns")),e.getRightLeafColumns=$(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),w(e.options,"debugColumns","getRightLeafColumns")),e.getCenterLeafColumns=$(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(l=>!s.includes(l.id))},w(e.options,"debugColumns","getCenterLeafColumns"))}},_e={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},ze=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),dr={getDefaultColumnDef:()=>_e,getInitialState:e=>({columnSizing:{},columnSizingInfo:ze(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:L("columnSizing",e),onColumnSizingInfoChange:L("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const l=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:_e.minSize,(r=l??e.columnDef.size)!=null?r:_e.size),(s=e.columnDef.maxSize)!=null?s:_e.maxSize)},e.getStart=$(n=>[n,ae(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,l)=>s+l.getSize(),0),w(t.options,"debugColumns","getStart")),e.getAfter=$(n=>[n,ae(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,l)=>s+l.getSize(),0),w(t.options,"debugColumns","getAfter")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var l;n+=(l=s.column.getSize())!=null?l:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return l=>{if(!r||!s||(l.persist==null||l.persist(),He(l)&&l.touches&&l.touches.length>1))return;const i=e.getSize(),c=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],a=He(l)?Math.round(l.touches[0].clientX):l.clientX,d={},m=(y,b)=>{typeof b=="number"&&(t.setColumnSizingInfo(C=>{var B,M;const k=t.options.columnResizeDirection==="rtl"?-1:1,N=(b-((B=C==null?void 0:C.startOffset)!=null?B:0))*k,Z=Math.max(N/((M=C==null?void 0:C.startSize)!=null?M:0),-.999999);return C.columnSizingStart.forEach(ie=>{let[Le,Un]=ie;d[Le]=Math.round(Math.max(Un+Un*Z,0)*100)/100}),{...C,deltaOffset:N,deltaPercentage:Z}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(C=>({...C,...d})))},f=y=>m("move",y),g=y=>{m("end",y),t.setColumnSizingInfo(b=>({...b,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},u=n||typeof document<"u"?document:null,p={moveHandler:y=>f(y.clientX),upHandler:y=>{u==null||u.removeEventListener("mousemove",p.moveHandler),u==null||u.removeEventListener("mouseup",p.upHandler),g(y.clientX)}},h={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),f(y.touches[0].clientX),!1),upHandler:y=>{var b;u==null||u.removeEventListener("touchmove",h.moveHandler),u==null||u.removeEventListener("touchend",h.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),g((b=y.touches[0])==null?void 0:b.clientX)}},S=ur()?{passive:!1}:!1;He(l)?(u==null||u.addEventListener("touchmove",h.moveHandler,S),u==null||u.addEventListener("touchend",h.upHandler,S)):(u==null||u.addEventListener("mousemove",p.moveHandler,S),u==null||u.addEventListener("mouseup",p.upHandler,S)),t.setColumnSizingInfo(y=>({...y,startOffset:a,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?ze():(n=e.initialState.columnSizingInfo)!=null?n:ze())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let ve=null;function ur(){if(typeof ve=="boolean")return ve;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return ve=e,ve}function He(e){return e.type==="touchstart"}const gr={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:L("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(l=>l.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=$(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),w(t.options,"debugRows","_getAllVisibleCells")),e.getVisibleCells=$(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],w(t.options,"debugRows","getVisibleCells"))},createTable:e=>{const t=(n,r)=>$(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(l=>l.getIsVisible==null?void 0:l.getIsVisible()),w(e.options,"debugColumns",n));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,l)=>({...s,[l.id]:n||!(l.getCanHide!=null&&l.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function ae(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const mr={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},fr={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:L("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,l;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((l=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?l:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>z.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return ke(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:z[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},pr={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:L("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,l;e.setExpanded(r?{}:(s=(l=e.initialState)==null?void 0:l.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(l=>{const i=l.split(".");r=Math.max(r,i.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const l=r===!0?!0:!!(r!=null&&r[e.id]);let i={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(c=>{i[c]=!0}):i=r,n=(s=n)!=null?s:!l,!l&&n)return{...i,[e.id]:!0};if(l&&!n){const{[e.id]:c,...a}=i;return a}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Ue=0,qe=10,Ge=()=>({pageIndex:Ue,pageSize:qe}),hr={getInitialState:e=>({...e,pagination:{...Ge(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:L("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=l=>q(r,l);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?Ge():(s=e.initialState.pagination)!=null?s:Ge())},e.setPageIndex=r=>{e.setPagination(s=>{let l=q(r,s.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return l=Math.max(0,Math.min(l,i)),{...s,pageIndex:l}})},e.resetPageIndex=r=>{var s,l;e.setPageIndex(r?Ue:(s=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageIndex)!=null?s:Ue)},e.resetPageSize=r=>{var s,l;e.setPageSize(r?qe:(s=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageSize)!=null?s:qe)},e.setPageSize=r=>{e.setPagination(s=>{const l=Math.max(1,q(r,s.pageSize)),i=s.pageSize*s.pageIndex,c=Math.floor(i/l);return{...s,pageIndex:c,pageSize:l}})},e.setPageCount=r=>e.setPagination(s=>{var l;let i=q(r,(l=e.options.pageCount)!=null?l:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...s,pageCount:i}}),e.getPageOptions=$(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((l,i)=>i)),s},w(e.options,"debugTable","getPageOptions")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},We=()=>({top:[],bottom:[]}),Sr={getInitialState:e=>({rowPinning:We(),...e}),getDefaultOptions:e=>({onRowPinningChange:L("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const l=r?e.getLeafRows().map(a=>{let{id:d}=a;return d}):[],i=s?e.getParentRows().map(a=>{let{id:d}=a;return d}):[],c=new Set([...i,e.id,...l]);t.setRowPinning(a=>{var d,m;if(n==="bottom"){var f,g;return{top:((f=a==null?void 0:a.top)!=null?f:[]).filter(h=>!(c!=null&&c.has(h))),bottom:[...((g=a==null?void 0:a.bottom)!=null?g:[]).filter(h=>!(c!=null&&c.has(h))),...Array.from(c)]}}if(n==="top"){var u,p;return{top:[...((u=a==null?void 0:a.top)!=null?u:[]).filter(h=>!(c!=null&&c.has(h))),...Array.from(c)],bottom:((p=a==null?void 0:a.bottom)!=null?p:[]).filter(h=>!(c!=null&&c.has(h)))}}return{top:((d=a==null?void 0:a.top)!=null?d:[]).filter(h=>!(c!=null&&c.has(h))),bottom:((m=a==null?void 0:a.bottom)!=null?m:[]).filter(h=>!(c!=null&&c.has(h)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,l=n.some(c=>r==null?void 0:r.includes(c)),i=n.some(c=>s==null?void 0:s.includes(c));return l?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const l=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(i=>{let{id:c}=i;return c});return(r=l==null?void 0:l.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?We():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:We())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,l;return!!((s=r.top)!=null&&s.length||(l=r.bottom)!=null&&l.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(i=>{const c=e.getRow(i,!0);return c.getIsAllParentsExpanded()?c:null}):(n??[]).map(i=>t.find(c=>c.id===i))).filter(Boolean).map(i=>({...i,position:r}))},e.getTopRows=$(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),w(e.options,"debugRows","getTopRows")),e.getBottomRows=$(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),w(e.options,"debugRows","getBottomRows")),e.getCenterRows=$(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(l=>!s.has(l.id))},w(e.options,"debugRows","getCenterRows"))}},yr={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:L("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(l=>{l.getCanSelect()&&(r[l.id]=!0)}):s.forEach(l=>{delete r[l.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(l=>{Ke(s,l.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=$(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Ze(e,n):{rows:[],flatRows:[],rowsById:{}},w(e.options,"debugTable","getSelectedRowModel")),e.getFilteredSelectedRowModel=$(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Ze(e,n):{rows:[],flatRows:[],rowsById:{}},w(e.options,"debugTable","getFilteredSelectedRowModel")),e.getGroupedSelectedRowModel=$(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Ze(e,n):{rows:[],flatRows:[],rowsById:{}},w(e.options,"debugTable","getGroupedSelectedRowModel")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(l=>{var i;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return l;const c={...l};return Ke(c,e.id,n,(i=r==null?void 0:r.selectChildren)!=null?i:!0,t),c})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Je(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Xe(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Xe(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},Ke=(e,t,n,r,s)=>{var l;const i=s.getRow(t,!0);n?(i.getCanMultiSelect()||Object.keys(e).forEach(c=>delete e[c]),i.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(l=i.subRows)!=null&&l.length&&i.getCanSelectSubRows()&&i.subRows.forEach(c=>Ke(e,c.id,n,r,s))};function Ze(e,t){const n=e.getState().rowSelection,r=[],s={},l=function(i,c){return i.map(a=>{var d;const m=Je(a,n);if(m&&(r.push(a),s[a.id]=a),(d=a.subRows)!=null&&d.length&&(a={...a,subRows:l(a.subRows)}),m)return a}).filter(Boolean)};return{rows:l(t.rows),flatRows:r,rowsById:s}}function Je(e,t){var n;return(n=t[e.id])!=null?n:!1}function Xe(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,l=!1;return e.subRows.forEach(i=>{if(!(l&&!s)&&(i.getCanSelect()&&(Je(i,t)?l=!0:s=!1),i.subRows&&i.subRows.length)){const c=Xe(i,t);c==="all"?l=!0:(c==="some"&&(l=!0),s=!1)}}),s?"all":l?"some":!1}const Ye=/([0-9]+)/gm,br=(e,t,n)=>Mt(G(e.getValue(n)).toLowerCase(),G(t.getValue(n)).toLowerCase()),$r=(e,t,n)=>Mt(G(e.getValue(n)),G(t.getValue(n))),wr=(e,t,n)=>Qe(G(e.getValue(n)).toLowerCase(),G(t.getValue(n)).toLowerCase()),Cr=(e,t,n)=>Qe(G(e.getValue(n)),G(t.getValue(n))),kr=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},Er=(e,t,n)=>Qe(e.getValue(n),t.getValue(n));function Qe(e,t){return e===t?0:e>t?1:-1}function G(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Mt(e,t){const n=e.split(Ye).filter(Boolean),r=t.split(Ye).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),l=r.shift(),i=parseInt(s,10),c=parseInt(l,10),a=[i,c].sort();if(isNaN(a[0])){if(s>l)return 1;if(l>s)return-1;continue}if(isNaN(a[1]))return isNaN(i)?-1:1;if(i>c)return 1;if(c>i)return-1}return n.length-r.length}const ce={alphanumeric:br,alphanumericCaseSensitive:$r,text:wr,textCaseSensitive:Cr,datetime:kr,basic:Er},_r=[nr,gr,ar,cr,rr,sr,mr,fr,{getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:L("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const l=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(l)==="[object Date]")return ce.datetime;if(typeof l=="string"&&(r=!0,l.split(Ye).length>1))return ce.alphanumeric}return r?ce.text:ce.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return ke(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:ce[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),l=typeof n<"u"&&n!==null;t.setSorting(i=>{const c=i==null?void 0:i.find(u=>u.id===e.id),a=i==null?void 0:i.findIndex(u=>u.id===e.id);let d=[],m,f=l?n:s==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&r?c?m="toggle":m="add":i!=null&&i.length&&a!==i.length-1?m="replace":c?m="toggle":m="replace",m==="toggle"&&(l||s||(m="remove")),m==="add"){var g;d=[...i,{id:e.id,desc:f}],d.splice(0,d.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else m==="toggle"?d=i.map(u=>u.id===e.id?{...u,desc:f}:u):m==="remove"?d=i.filter(u=>u.id!==e.id):d=[{id:e.id,desc:f}];return d})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const l=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==l&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:i==="desc"?"asc":"desc":l},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},lr,pr,hr,Sr,yr,dr];function vr(e){var t,n;process.env.NODE_ENV!=="production"&&(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");const r=[..._r,...(t=e._features)!=null?t:[]];let s={_features:r};const l=s._features.reduce((g,u)=>Object.assign(g,u.getDefaultOptions==null?void 0:u.getDefaultOptions(s)),{}),i=g=>s.options.mergeOptions?s.options.mergeOptions(l,g):{...l,...g};let a={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(g=>{var u;a=(u=g.getInitialState==null?void 0:g.getInitialState(a))!=null?u:a});const d=[];let m=!1;const f={_features:r,options:{...l,...e},initialState:a,_queue:g=>{d.push(g),m||(m=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();m=!1}).catch(u=>setTimeout(()=>{throw u})))},reset:()=>{s.setState(s.initialState)},setOptions:g=>{const u=q(g,s.options);s.options=i(u)},getState:()=>s.options.state,setState:g=>{s.options.onStateChange==null||s.options.onStateChange(g)},_getRowId:(g,u,p)=>{var h;return(h=s.options.getRowId==null?void 0:s.options.getRowId(g,u,p))!=null?h:`${p?[p.id,u].join("."):u}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(g,u)=>{let p=(u?s.getPrePaginationRowModel():s.getRowModel()).rowsById[g];if(!p&&(p=s.getCoreRowModel().rowsById[g],!p))throw process.env.NODE_ENV!=="production"?new Error(`getRow could not find row with ID: ${g}`):new Error;return p},_getDefaultColumnDef:$(()=>[s.options.defaultColumn],g=>{var u;return g=(u=g)!=null?u:{},{header:p=>{const h=p.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:p=>{var h,S;return(h=(S=p.renderValue())==null||S.toString==null?void 0:S.toString())!=null?h:null},...s._features.reduce((p,h)=>Object.assign(p,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...g}},w(e,"debugColumns","_getDefaultColumnDef")),_getColumnDefs:()=>s.options.columns,getAllColumns:$(()=>[s._getColumnDefs()],g=>{const u=function(p,h,S){return S===void 0&&(S=0),p.map(y=>{const b=tr(s,y,S,h),C=y;return b.columns=C.columns?u(C.columns,b,S+1):[],b})};return u(g)},w(e,"debugColumns","getAllColumns")),getAllFlatColumns:$(()=>[s.getAllColumns()],g=>g.flatMap(u=>u.getFlatColumns()),w(e,"debugColumns","getAllFlatColumns")),_getAllFlatColumnsById:$(()=>[s.getAllFlatColumns()],g=>g.reduce((u,p)=>(u[p.id]=p,u),{}),w(e,"debugColumns","getAllFlatColumnsById")),getAllLeafColumns:$(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(g,u)=>{let p=g.flatMap(h=>h.getLeafColumns());return u(p)},w(e,"debugColumns","getAllLeafColumns")),getColumn:g=>{const u=s._getAllFlatColumnsById()[g];return process.env.NODE_ENV!=="production"&&!u&&console.error(`[Table] Column with id '${g}' does not exist.`),u}};Object.assign(s,f);for(let g=0;g<s._features.length;g++){const u=s._features[g];u==null||u.createTable==null||u.createTable(s)}return s}function Vr(){return e=>$(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,l,i){l===void 0&&(l=0);const c=[];for(let d=0;d<s.length;d++){const m=or(e,e._getRowId(s[d],d,i),s[d],d,l,void 0,i==null?void 0:i.id);if(n.flatRows.push(m),n.rowsById[m.id]=m,c.push(m),e.options.getSubRows){var a;m.originalSubRows=e.options.getSubRows(s[d],d),(a=m.originalSubRows)!=null&&a.length&&(m.subRows=r(m.originalSubRows,l+1,m))}}return c};return n.rows=r(t),n},w(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Br(){return e=>$(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:Rr(n),w(e.options,"debugTable","getExpandedRowModel"))}function Rr(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}/**
   * vue-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ve(){return!0}const Nr=Symbol("merge-proxy"),Ar={get(e,t,n){return t===Nr?n:e.get(t)},has(e,t){return e.has(t)},set:Ve,deleteProperty:Ve,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Ve,deleteProperty:Ve}},ownKeys(e){return e.keys()}};function et(e){return"value"in e?e.value:e}function de(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Proxy({get(r){for(let s=t.length-1;s>=0;s--){const l=et(t[s])[r];if(l!==void 0)return l}},has(r){for(let s=t.length-1;s>=0;s--)if(r in et(t[s]))return!0;return!1},keys(){const r=[];for(let s=0;s<t.length;s++)r.push(...Object.keys(et(t[s])));return[...Array.from(new Set(r))]}},Ar)}const tt=o.defineComponent({props:["render","props"],setup:e=>()=>typeof e.render=="function"||typeof e.render=="object"?o.h(e.render,e.props):e.render});function xt(e){return de(e,{data:o.unref(e.data)})}function Ir(e){const t=o.isRef(e.data),n=de({state:{},onStateChange:()=>{},renderFallbackValue:null,mergeOptions(l,i){return t?{...l,...i}:de(l,i)}},t?xt(e):e),r=vr(n);if(t){const l=o.shallowRef(e.data);o.watch(l,()=>{r.setState(i=>({...i,data:l.value}))},{immediate:!0})}const s=o.ref(r.initialState);return o.watchEffect(()=>{r.setOptions(l=>{var i;const c=new Proxy({},{get:(a,d)=>s.value[d]});return de(l,t?xt(e):e,{state:de(c,(i=e.state)!=null?i:{}),onStateChange:a=>{a instanceof Function?s.value=a(s.value):s.value=a,e.onStateChange==null||e.onStateChange(a)}})})}),r}const Pr={class:"p-2"},Mr=["colSpan"],xr={key:0},Fr=["colspan"],Lr={style:{fontSize:"10px"}},Dr=["colSpan"],Or=o.defineComponent({__name:"ArticleList",setup(e){const t=[{firstName:"tanner",lastName:"linsley",age:24,visits:100,status:"In Relationship",progress:50},{firstName:"tandy",lastName:"miller",age:40,visits:40,status:"Single",progress:80},{firstName:"joe",lastName:"dirte",age:45,visits:20,status:"Complicated",progress:10}],n=Xo();function r(d){return d.getCanExpand()?o.h("button",{onClick:d.getToggleExpandedHandler(),style:{cursor:"pointer"}},d.getIsExpanded()?"👇":"👉"):o.h(o.Text,"🔵")}const s=[n.group({header:"Name",footer:d=>d.column.id,columns:[n.display({id:"expander",header:()=>null,cell:({row:d})=>r(d)}),n.accessor("firstName",{footer:d=>d.column.id}),n.accessor(d=>d.lastName,{id:"lastName",cell:d=>d.getValue(),header:()=>"Last Name",footer:d=>d.column.id})]}),n.group({header:"Info",footer:d=>d.column.id,columns:[n.accessor("age",{header:()=>"Age",footer:d=>d.column.id}),n.group({header:"More Info",columns:[n.accessor("visits",{header:()=>"Visits",footer:d=>d.column.id}),n.accessor("status",{header:"Status",footer:d=>d.column.id}),n.accessor("progress",{header:"Profile Progress",footer:d=>d.column.id})]})]})],l=o.ref(t),i=o.ref({}),c=()=>{l.value=t},a=Ir({get data(){return l.value},state:{get expanded(){return i.value}},columns:s,getRowCanExpand:()=>!0,getCoreRowModel:Vr(),getExpandedRowModel:Br(),onExpandedChange:d=>{i.value=typeof d=="function"?d(i.value):d}});return(d,m)=>(o.openBlock(),o.createElementBlock("div",Pr,[o.createElementVNode("table",null,[o.createElementVNode("thead",null,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(o.unref(a).getHeaderGroups(),f=>(o.openBlock(),o.createElementBlock("tr",{key:f.id},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(f.headers,g=>(o.openBlock(),o.createElementBlock("th",{key:g.id,colSpan:g.colSpan},[g.isPlaceholder?o.createCommentVNode("",!0):(o.openBlock(),o.createBlock(o.unref(tt),{key:0,render:g.column.columnDef.header,props:g.getContext()},null,8,["render","props"]))],8,Mr))),128))]))),128))]),o.createElementVNode("tbody",null,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(o.unref(a).getRowModel().rows,f=>(o.openBlock(),o.createElementBlock(o.Fragment,{key:f.id},[o.createElementVNode("tr",null,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(f.getVisibleCells(),g=>(o.openBlock(),o.createElementBlock("td",{key:g.id},[o.createVNode(o.unref(tt),{render:g.column.columnDef.cell,props:g.getContext()},null,8,["render","props"])]))),128))]),f.getIsExpanded()?(o.openBlock(),o.createElementBlock("tr",xr,[o.createElementVNode("td",{colspan:f.getAllCells().length},[o.createElementVNode("pre",Lr,[m[0]||(m[0]=o.createTextVNode("                  ")),o.createElementVNode("code",null,o.toDisplayString(JSON.stringify(f.original,null,2)),1),m[1]||(m[1]=o.createTextVNode(`
                `))])],8,Fr)])):o.createCommentVNode("",!0)],64))),128))]),o.createElementVNode("tfoot",null,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(o.unref(a).getFooterGroups(),f=>(o.openBlock(),o.createElementBlock("tr",{key:f.id},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(f.headers,g=>(o.openBlock(),o.createElementBlock("th",{key:g.id,colSpan:g.colSpan},[g.isPlaceholder?o.createCommentVNode("",!0):(o.openBlock(),o.createBlock(o.unref(tt),{key:0,render:g.column.columnDef.footer,props:g.getContext()},null,8,["render","props"]))],8,Dr))),128))]))),128))])]),m[2]||(m[2]=o.createElementVNode("div",{class:"h-4"},null,-1)),o.createElementVNode("button",{onClick:c,class:"border p-2"},"Rerender")]))}}),Tr={key:1,class:"list"},jr={class:"viur-shop-cart-sidebar-btn-wrap"},zr=["variant","disabled"],nt=E({__name:"ConfirmView",setup(e){const t=j(),n=o.reactive({cartIsInit:o.computed(()=>!0),itemsIsInit:o.computed(()=>{var s;return!!((s=t.state)!=null&&s.carts[t.state.basket].items)}),images:{},showOrderButton:!1});function r(s){s.target.checked&&(n.showOrderButton=!0),s.target.checked||(n.showOrderButton=!1)}return o.onBeforeMount(async()=>{await t.init()}),(s,l)=>n.cartIsInit?(o.openBlock(),o.createElementBlock("div",Tr,[l[2]||(l[2]=o.createElementVNode("h2",{class:"viur-shop-cart-headline headline"},"Bestellung prüfen",-1)),l[3]||(l[3]=o.createElementVNode("div",{class:"viur-shop-cart-address-wrap"},[o.createElementVNode("div",{class:"viur-shop-cart-address"},[o.createElementVNode("div",{class:"viur-shop-cart-address-headline"},[o.createTextVNode(" Versandadresse "),o.createElementVNode("sl-button",{outline:"",size:"small"},[o.createElementVNode("sl-icon",{name:"pencil",slot:"prefix"})])]),o.createTextVNode(" Roland Brose"),o.createElementVNode("br"),o.createTextVNode(" Speicherstraße 33"),o.createElementVNode("br"),o.createTextVNode(" 44147 Dortmund, DE"),o.createElementVNode("br"),o.createElementVNode("br"),o.createTextVNode(" rb@mausbrand.de"),o.createElementVNode("br"),o.createTextVNode(" 0231 21 34 68 90 ")]),o.createElementVNode("div",{class:"viur-shop-cart-address"},[o.createElementVNode("div",{class:"viur-shop-cart-address-headline"},[o.createTextVNode(" Rechnungsadresse "),o.createElementVNode("sl-button",{outline:"",size:"small"},[o.createElementVNode("sl-icon",{name:"pencil",slot:"prefix"})])]),o.createTextVNode(" Roland Brose"),o.createElementVNode("br"),o.createTextVNode(" Speicherstraße 33"),o.createElementVNode("br"),o.createTextVNode(" 44147 Dortmund, DE"),o.createElementVNode("br"),o.createElementVNode("br"),o.createTextVNode(" rb@mausbrand.de"),o.createElementVNode("br"),o.createTextVNode(" 0231 21 34 68 90 ")])],-1)),l[4]||(l[4]=o.createElementVNode("div",{class:"viur-shop-cart-payment"},[o.createElementVNode("div",{class:"viur-shop-cart-payment-method"},[o.createElementVNode("span",null,"Zahlungsmethode:"),o.createTextVNode(" Paypal ")]),o.createElementVNode("sl-button",{outline:"",size:"small"},[o.createElementVNode("sl-icon",{name:"pencil",slot:"prefix"})])],-1)),l[5]||(l[5]=o.createElementVNode("h2",{class:"viur-shop-cart-headline headline"},"Warenkorb",-1)),o.createVNode(Or),(o.openBlock(),o.createBlock(o.Teleport,{to:"#order_sidebar"},[l[0]||(l[0]=o.createElementVNode("h2",{class:"viur-shop-cart-sidebar-headline headline"}," Jetzt Bestellen ",-1)),l[1]||(l[1]=o.createElementVNode("br",null,null,-1)),o.createElementVNode("sl-checkbox",{onSlChange:r}," Ich akzeptiere die geltenden AGBs und Datenschutzbestimmungen ",32),o.createElementVNode("div",jr,[o.createElementVNode("sl-button",{variant:n.showOrderButton?"info":"disabled",size:"small",disabled:!n.showOrderButton}," Zahlungspflichtig bestellen ",8,zr)])]))])):(o.openBlock(),o.createBlock(Po,{key:0}))}},[["__scopeId","data-v-81051322"]]),Hr=Object.freeze(Object.defineProperty({__proto__:null,default:nt},Symbol.toStringTag,{value:"Module"})),Ur={class:"bind"},qr={key:0,class:"viur-shop-order-complete-slot"},Gr={class:"btn-wrap"},Ft=E({__name:"ShopOrderComplete",props:{redirectUrl:{type:String,required:!0},additionalComponents:{type:Array,default:[]}},emits:["goToStart"],setup(e,{emit:t}){const n=e,r=t;function s(){r("goToStart")}function l(){window.location.href=n.redirectUrl}return(i,c)=>(o.openBlock(),o.createElementBlock("div",Ur,[c[2]||(c[2]=o.createElementVNode("h1",{class:"viur-shop-success-headline headline"}," Vielen Dank für Ihre Bestellung ",-1)),c[3]||(c[3]=o.createElementVNode("p",{class:"paragraph"},[o.createElementVNode("strong",null,"Ihre Bestellnummer:"),o.createTextVNode(" 123345670")],-1)),c[4]||(c[4]=o.createElementVNode("p",{class:"paragraph"},[o.createTextVNode(" Wir haben Ihre Bestellung erhalten und werden diese schenllstmöglich bearbeiten."),o.createElementVNode("br"),o.createTextVNode(" Sie erhalten in wenigen Minuten eine Bestätigung per E-Mail. ")],-1)),e.additionalComponents.length?(o.openBlock(),o.createElementBlock("div",qr,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.additionalComponents,a=>(o.openBlock(),o.createBlock(o.resolveDynamicComponent(a.component),o.mergeProps({ref_for:!0},a.props?a.props:""),null,16))),256))])):o.createCommentVNode("",!0),o.createElementVNode("div",Gr,[o.createElementVNode("sl-button",{size:"medium",onClick:c[0]||(c[0]=a=>s())}," Zur Startseite "),o.createElementVNode("sl-button",{variant:"primary",onClick:c[1]||(c[1]=a=>l()),size:"medium"}," Weiter Einkaufen ")])]))}},[["__scopeId","data-v-1f7efc9d"]]),Wr=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({});function s(l){t.emit("change",e.name,l.target.value,e.lang,e.index)}return o.onMounted(()=>{t.emit("change",e.name,e.value,e.lang,e.index)}),{state:r,boneState:n,changeEvent:s}}}),Kr=["disabled","value"],Zr=["disabled","value"];function Jr(e,t,n,r,s,l){var i,c;return e.boneState.bonestructure.type==="raw.json"?(o.openBlock(),o.createElementBlock("sl-textarea",{key:0,disabled:(i=e.boneState)==null?void 0:i.readonly,value:JSON.stringify(e.value),onInput:t[0]||(t[0]=(...a)=>e.changeEvent&&e.changeEvent(...a))},null,40,Kr)):(o.openBlock(),o.createElementBlock("sl-textarea",{key:1,disabled:(c=e.boneState)==null?void 0:c.readonly,value:e.value,onInput:t[1]||(t[1]=(...a)=>e.changeEvent&&e.changeEvent(...a))},null,40,Zr))}const Lt=E(Wr,[["render",Jr],["__scopeId","data-v-0ebe5f0b"]]),Xr=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String,readonly:Boolean,params:Object},components:{},emits:["change"],setup(e,t){const n=o.reactive({});function r(s){t.emit("change",e.name,s.target.value,e.lang,e.index)}return o.onMounted(()=>{t.emit("change",e.name,e.value,e.lang,e.index)}),{state:n,changeEvent:r}}}),Yr=["value"];function Qr(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("sl-input",{disabled:"",value:e.value,onSlChange:t[0]||(t[0]=(...i)=>e.changeEvent&&e.changeEvent(...i))},null,40,Yr)}const Dt=E(Xr,[["render",Qr],["__scopeId","data-v-b45a1311"]]);function es(e){return o.getCurrentScope()?(o.onScopeDispose(e),!0):!1}function ot(e){return typeof e=="function"?e():o.unref(e)}const ts=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ot=()=>{};function ns(e,t){function n(...r){return new Promise((s,l)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(l)})}return n}function os(e,t={}){let n,r,s=Ot;const l=c=>{clearTimeout(c),s(),s=Ot};return c=>{const a=ot(e),d=ot(t.maxWait);return n&&l(n),a<=0||d!==void 0&&d<=0?(r&&(l(r),r=null),Promise.resolve(c())):new Promise((m,f)=>{s=t.rejectOnCancel?f:m,d&&!r&&(r=setTimeout(()=>{n&&l(n),r=null,m(c())},d)),n=setTimeout(()=>{r&&l(r),r=null,m(c())},a)})}}function rs(e,t=200,n={}){return ns(os(t,n),e)}function Be(e,t,n={}){const{immediate:r=!0}=n,s=o.ref(!1);let l=null;function i(){l&&(clearTimeout(l),l=null)}function c(){s.value=!1,i()}function a(...d){i(),s.value=!0,l=setTimeout(()=>{s.value=!1,l=null,e(...d)},ot(t))}return r&&(s.value=!0,ts&&a()),es(c),{isPending:o.readonly(s),start:a,stop:c}}class ss{static objectEmpty(t){return Object.keys(t).length===0&&t.constructor===Object}static getDescr(t,n){try{return t.values.filter(r=>r[0]===n)[0][1]}catch{return"-"}}static unescape(t){return t||(t=""),String(t).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&#40;/g,"(").replace(/&#41;/g,")").replace(/&#61;/g,"=").replace(/&#039;/g,"'").replace(/&#040;/g,"(").replace(/&#041;/g,")").replace(/&#061;/g,"=")}static formatString(t,n){function r(i){let c=[],a=[],d=/\$\((.*?)\)/g;for(;a;){if(a=d.exec(i),!a){a=!1;continue}c.push(a[1])}return c}let s=r(t),l=[];Array.isArray(n)||(n=[n]);for(let i of n){let c=t;for(let a of s){let d=a.split("."),m=i;for(let f of d)m&&m!=="-"&&f in m&&m[f]?m=m[f]:m="-";m=this.unescape(m),c=c.replace("$("+a+")",m)}l.push(c)}return l.join(", ")}}const ls=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String,autofocus:Boolean},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({value:o.computed(()=>e.value)}),s=o.ref(null);function l(i){t.emit("change",e.name,i.target.value,e.lang,e.index)}return o.watchEffect(()=>{if(e.autofocus&&s.value&&s.value!==null&&s!==null){const{start:i}=Be(()=>{s.value.focus()},600);i()}}),o.onMounted(()=>{t.emit("change",e.name,e.value,e.lang,e.index)}),{state:r,Utils:ss,boneState:n,changeEvent:l,stringBone:s}}}),is=["disabled","value","required"];function as(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("sl-input",{ref:"stringBone",disabled:e.boneState.readonly,value:e.Utils.unescape(e.value),required:e.boneState.bonestructure.required,onSlChange:t[0]||(t[0]=(...i)=>e.changeEvent&&e.changeEvent(...i)),onKeyup:t[1]||(t[1]=(...i)=>e.changeEvent&&e.changeEvent(...i))},null,40,is)}const Tt=E(ls,[["render",as],["__scopeId","data-v-1ccbacc0"]]),cs=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String,autofocus:Boolean},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({}),s=o.ref(null);function l(i){t.emit("change",e.name,i.target.value,e.lang,e.index)}return o.watchEffect(()=>{if(e.autofocus&&s.value&&s.value!==null&&s!==null){const{start:i}=Be(()=>{s.value.focus()},600);i()}}),o.onMounted(()=>{t.emit("change",e.name,e.value,e.lang,e.index)}),{state:r,boneState:n,changeEvent:l,emailBone:s}}}),ds=["disabled","value"];function us(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("sl-input",{ref:"emailBone",disabled:e.boneState.readonly,type:"email",value:e.value,onSlChange:t[0]||(t[0]=(...i)=>e.changeEvent&&e.changeEvent(...i))},null,40,ds)}const jt=E(cs,[["render",us],["__scopeId","data-v-4328e024"]]),gs=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({value:o.computed(()=>{var i;let l=e.value;return n.bonestructure.time?l=(i=e.value)==null?void 0:i.split("+")[0]:e.value&&(l=new Date(e.value).toISOString().substr(0,10)),l}),typeString:o.computed(()=>{let l="datetime-local";return n.bonestructure.time||(l="date"),l})});function s(l){t.emit("change",e.name,l.target.value,e.lang,e.index)}return o.onMounted(()=>{t.emit("change",e.name,e.value,e.lang,e.index)}),{state:r,boneState:n,changeEvent:s}}}),ms=["disabled","type","value"];function fs(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("sl-input",{disabled:e.boneState.readonly,type:e.state.typeString,value:e.state.value,onSlChange:t[0]||(t[0]=(...i)=>e.changeEvent&&e.changeEvent(...i))},null,40,ms)}const zt=E(gs,[["render",fs],["__scopeId","data-v-f1b8af8c"]]),ps=o.defineComponent({inheritAttrs:!1,props:{name:String,value:null,index:Number,lang:String},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({value:o.computed(()=>{let i=e.value;return Array.isArray(e.value)?(n.bonestructure.values instanceof Array?i=i.filter(c=>n.bonestructure.values.map(a=>a[0].toString()).includes(c)):i=i.filter(c=>Object.keys(n.bonestructure.values).map(a=>a.toString()).includes(c)),i.map(c=>c.toString())):e.value?e.value.toString():""})});function s(){if(Array.isArray(n.bonestructure.values))return n.bonestructure.values;{let i=[];for(const[c,a]of Object.entries(n.bonestructure.values))i.push([c,a]);return i}}function l(i){t.emit("change",e.name,i.target.value,e.lang,e.index)}return o.onMounted(()=>{t.emit("change",e.name,r.value,e.lang,e.index)}),{state:r,boneState:n,changeEvent:l,convertObjToList:s}}}),hs=["disabled","value","multiple"],Ss=["value"];function ys(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("sl-select",{disabled:e.boneState.readonly,value:e.state.value,hoist:"",multiple:e.boneState.bonestructure.multiple,"max-options-visible":"0",clearable:"",onSlChange:t[0]||(t[0]=(...i)=>e.changeEvent&&e.changeEvent(...i))},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.convertObjToList(),i=>(o.openBlock(),o.createElementBlock("sl-option",{key:i[0],value:i[0]},o.toDisplayString(i[1]),9,Ss))),128))],40,hs)}const Ht=E(ps,[["render",ys],["__scopeId","data-v-094c8eff"]]),bs=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({value:o.computed(()=>![!1,null,void 0,""].includes(e.value))});function s(l){t.emit("change",e.name,l.target.checked,e.lang,e.index)}return o.onMounted(()=>{let l=e.value;l||(l=!1),t.emit("change",e.name,l,e.lang,e.index)}),{state:r,boneState:n,changeEvent:s}}}),$s=["disabled","checked"];function ws(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("sl-switch",{disabled:e.boneState.readonly,checked:e.state.value,onSlChange:t[0]||(t[0]=(...i)=>e.changeEvent&&e.changeEvent(...i))},null,40,$s)}const Ut=E(bs,[["render",ws],["__scopeId","data-v-363598c8"]]),Cs=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String,autofocus:Boolean},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({value1:"",value2:null,equal:!1,passwordInfo:[],requiredPasswordInfo:[]}),s=o.ref(null);function l(c){r.value1===r.value2?r.equal=!0:r.equal=!1,i(r.value1),r.requiredPasswordInfo.length===0&&r.passwordInfo.length-r.requiredPasswordInfo.length<=n.bonestructure.test_threshold?t.emit("change",e.name,r.value1,e.lang,e.index,!0):t.emit("change",e.name,r.value1,e.lang,e.index,!1)}o.onMounted(()=>{t.emit("change",e.name,e.value,e.lang,e.index)});function i(c){r.passwordInfo=[],r.requiredPasswordInfo=[];for(const a of n.bonestructure.tests)new RegExp(a[0]).test(c)||(a[2]?r.requiredPasswordInfo.push(a[1]):r.passwordInfo.push(a[1]));r.equal||r.requiredPasswordInfo.push("Die eingegebenen Passwörter stimmen nicht überein."),r.value1||r.requiredPasswordInfo.push("Das eingegebene Passwort ist leer.")}return o.watchEffect(()=>{if(e.autofocus&&s.value&&s.value!==null&&s!==null){const{start:c}=Be(()=>{s.value.focus()},600);c()}}),o.watch(()=>e.value,(c,a)=>{r.value1=c}),{state:r,boneState:n,changeEvent:l,passwordBone:s}}}),ks=["disabled"],Es=["name"],_s=["name"],vs={class:"errors"};function Vs(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock(o.Fragment,null,[o.withDirectives(o.createElementVNode("sl-input",{ref:"passwordBone","onUpdate:modelValue":t[0]||(t[0]=i=>e.state.value1=i),disabled:e.boneState.readonly,class:o.normalizeClass({"has-check":!e.boneState.readonly}),type:"password",clearable:"","password-toggle":"true",onSlChange:t[1]||(t[1]=(...i)=>e.changeEvent&&e.changeEvent(...i)),onSlClear:t[2]||(t[2]=i=>e.state.value1=""),onKeyup:t[3]||(t[3]=(...i)=>e.changeEvent&&e.changeEvent(...i))},[o.createElementVNode("sl-icon",{slot:"suffix",name:e.state.equal&&e.state.value1.length?"check":"x"},null,8,Es)],42,ks),[[o.vModelText,e.state.value1]]),e.boneState.readonly?o.createCommentVNode("",!0):o.withDirectives((o.openBlock(),o.createElementBlock("sl-input",{key:0,"onUpdate:modelValue":t[4]||(t[4]=i=>e.state.value2=i),class:"password-check",type:"password",clearable:"","password-toggle":"true",onSlChange:t[5]||(t[5]=(...i)=>e.changeEvent&&e.changeEvent(...i)),onSlClear:t[6]||(t[6]=i=>e.state.value2=""),onKeyup:t[7]||(t[7]=(...i)=>e.changeEvent&&e.changeEvent(...i))},[o.createElementVNode("sl-icon",{slot:"suffix",name:e.state.equal&&e.state.value1.length?"check":"x"},null,8,_s)],544)),[[o.vModelText,e.state.value2]]),o.createElementVNode("ul",vs,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.state.passwordInfo,(i,c)=>(o.openBlock(),o.createElementBlock("li",{key:c},o.toDisplayString(i),1))),128)),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.state.requiredPasswordInfo,(i,c)=>(o.openBlock(),o.createElementBlock("li",{key:c,class:"requiredInfo"},o.toDisplayString(i),1))),128))])],64)}const qt=E(Cs,[["render",Vs],["__scopeId","data-v-0ccf18c0"]]),A={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};class Re extends Error{constructor(t,n,r,s){super(r||n),arguments.length>=4&&s&&Object.assign(this,s),this.statusText=n,this.statusCode=t,this.response=s}}let rt=null;function H(){return rt||(rt=x.defineStore("requestStore",()=>{const e=o.reactive({sKeys:new Set,amount:1});function t(){e.sKeys=new Set}return{state:e,$reset:t}})),rt()}class _{static resetState(){H().$reset(),H().$dispose()}static buildUrl(t){return t&&!(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//"))&&(t=window.location.origin+t),t}static post(t,{dataObj:n=null,callback:r=null,failedCallback:s=null,abortController:l=null,headers:i=null,mode:c=null}={}){function a(){if(n instanceof FormData)return n;const m=new FormData;for(const f in n)if(Array.isArray(n[f]))for(let g of n[f])m.append(f,g);else m.append(f,n[f]);return m}let d=ue.post(_.buildUrl(t),a(),null,i,l,c);return d.then(function(m){r&&r(m.data)}).catch(function(m){s&&s(m)}),d}static async getBatchSkeys(t="json"){await _.get(`/${t}/skey`,{dataObj:{amount:H().state.amount}}).then(async n=>{let r=await n.json();Array.isArray(r)||(r=[r]),H().state.sKeys=new Set(r)})}static async securePost(t,{dataObj:n=null,callback:r=null,failedCallback:s=null,abortController:l=null,renderer:i="json",headers:c=null,mode:a=null,amount:d=null}={}){let m=null;H().state.sKeys.size===0&&(d&&(H().state.amount=d),await _.getBatchSkeys(i));const f=[...H().state.sKeys][0];return n instanceof FormData?(n.append("skey",f),H().state.sKeys.delete(f)):(n||(n={}),n.skey=f,H().state.sKeys.delete(f)),m=_.post(t,{dataObj:n,callback:r,abortController:l,headers:c,mode:a}),m}static get(t,{dataObj:n=null,callback:r=null,failedCallback:s=null,cached:l=!1,clearCache:i=!1,abortController:c=null,headers:a=null,mode:d=null,cacheTime:m=1e3*60*60*24*1}={}){let f=ue.get(_.buildUrl(t),n,i,a,c,d);return f.then(function(g){r&&r(g.data)}).catch(function(g){s&&s(g)}),f}static list(t,{dataObj:n=null,callback:r=null,failedCallback:s=null,group:l=null,abortController:i=null,renderer:c=(A==null?void 0:A.VITE_DEFAULT_RENDERER)||"json"}={}){let a=`/${c}/${t}/list`;return l&&(a+=`/${l}`),_.get(a,{dataObj:n,callback:r,failedCallback:s,abortController:i})}static getStructure(t,{dataObj:n=null,callback:r=null,failedCallback:s=null,group:l=null,abortController:i=null,renderer:c=(A==null?void 0:A.VITE_DEFAULT_RENDERER)||"json"}={}){t=t.replace(/\//g,".");let a=`/${c}/getStructure/${t}`;return l&&(a+=`/${l}`),_.get(a,{dataObj:n,callback:r,failedCallback:s,abortController:i})}static view(t,n,{dataObj:r=null,callback:s=null,failedCallback:l=null,group:i=null,abortController:c=null,renderer:a=(A==null?void 0:A.VITE_DEFAULT_RENDERER)||"json"}={}){let d=`/${a}/${t}/view/${n}`;return i&&(d=`/${a}/${t}/view/${i}/${n}`),_.get(d,{dataObj:r,callback:s,failedCallback:l,abortController:c})}static add(t,{dataObj:n=null,callback:r=null,failedCallback:s=null,group:l=null,abortController:i=null,renderer:c=(A==null?void 0:A.VITE_DEFAULT_RENDERER)||"json"}={}){let a=`/${c}/${t}/add`;return l&&(a=`/${c}/${t}/add/${l}`),_.securePost(a,{dataObj:n,callback:r,failedCallback:s,abortController:i})}static edit(t,n,{dataObj:r=null,callback:s=null,failedCallback:l=null,group:i=null,abortController:c=null,renderer:a=(A==null?void 0:A.VITE_DEFAULT_RENDERER)||"json"}={}){let d=`/${a}/${t}/edit/${n}`;return i&&(d=`/${a}/${t}/edit/${i}/${n}`),_.securePost(d,{dataObj:r,callback:s,failedCallback:l,abortController:c})}static delete(t,n,{dataObj:r=null,callback:s=null,failedCallback:l=null,group:i=null,abortController:c=null,renderer:a=(A==null?void 0:A.VITE_DEFAULT_RENDERER)||"json"}={}){let d=`/${a}/${t}/delete/${n}`;return i&&(d=`/${a}/${t}/delete/${i}/${n}`),_.securePost(d,{dataObj:r,callback:s,failedCallback:l,abortController:c,amount:1})}static downloadUrlFor(t,n=!1){return t&&"dest"in t?n&&"thumbnail"in t.dest?_.buildUrl(t.dest.thumbnail):"downloadUrl"in t.dest?_.buildUrl(t.dest.downloadUrl):_.buildUrl(null):_.buildUrl(t)}static serveUrlFor(t,n=null,r=null,s="",l=!1){const i=/^https:\/\/(.*?)\.googleusercontent\.com\/(.*?)$/;let c="/file/serve";const a=t.match(i);if(a){const d=a[1],m=a[2];c+=`/${d}/${m}`,n&&(c+=`/${n}`),r&&(c+=`/${r}`);let f=[];for(const[g,u]of Object.entries({options:s,download:l}))u&&f.push(`${g}=${u}`);f.length>0&&(c+=`?${f.join("&")}`)}return _.buildUrl(c)}static uploadFile(t,n=void 0){const r={fileName:t.name,mimeType:t.type||"application/octet-stream",size:t.size.toString(),node:n};return new Promise((s,l)=>{_.securePost("/vi/file/getUploadURL",{dataObj:r}).then(async i=>{let c=await i.json();fetch(c.values.uploadUrl,{body:t,method:"POST",mode:"no-cors"}).then(async a=>{const d={key:c.values.uploadKey,skelType:"leaf"};_.securePost("/vi/file/add",{dataObj:d}).then(async m=>{let f=await m.json();f.action==="addSuccess"?s(f.values):l(f)}).catch(m=>{l(m)})}).catch(a=>{l(a)})}).catch(i=>{l(i)})})}}class ue{constructor(){qn(this,"withCredentials",!0)}static buildOptions(t,n=null,r=null,s=null,l=null){let i={method:t};return i.credentials="include",i.headers={Accept:"application/json, text/plain, */*"},r&&(i.headers={...i.headers,...r}),n&&(i.body=n),s&&(i.signal=s.signal),l&&(i.mode=l),i}static get(t,n=null,r=null,s=null,l=null,i=null){function c(a,d){let m=new URL(a);if(d&&Object.keys(d).length>0){const f=new URLSearchParams;for(const[g,u]of Object.entries(d))if(Array.isArray(u))for(const p of u)f.append(g,p);else f.append(g,u);m.search=f.toString()}return m.toString()}return fetch(c(t,n),ue.buildOptions("GET",null,s,l,i)).then(async a=>{if(a.ok)return a;{const d=`${a.status} ${a.statusText}: ${a.headers?a.headers.get("x-error-descr"):""}`;return Promise.reject(new Re(a.status,a.statusText,d,a))}}).catch(a=>{if(a instanceof TypeError){const m=`503 ${a.message}: ${a.headers?a.headers.get("x-error-descr"):""}`;return Promise.reject(new Re(503,a.message,m,a))}if(a instanceof DOMException&&a.name=="AbortError"){const m=`${a.code} ${a.name}: ${a.headers?a.headers.get("x-error-descr"):""}`;return Promise.reject(new Re(a.code,a.name,m,{url:t}))}const d=`${a.statusCode} ${a.statusText}: ${a.headers?a.headers.get("x-error-descr"):""}`;return Promise.reject(new Re(a.statusCode,a.statusText,d,a.response))})}static post(t,n=null,r=null,s=null,l=null,i=null){return fetch(t,ue.buildOptions("POST",n,s,l,i))}}function Bs(e,t){function n(){let g=`/${e.renderer}/${e.module}/${e.action}`;const u=["node","leaf"].includes(e.skeltype);return e.group?g+=`/${e.group}`:u&&(g+=`/${e.skeltype}`),(["edit","clone"].includes(e.action)||u&&e.action==="add")&&(g+=`/${e.skelkey}`),g}function r(g){if(Array.isArray(g)){let u={};for(const p in g)u[g[p][0]]=g[p][1];return u}else return g}function s(){let g=[];function u(h,S,y,b){var C,B,M;if(y.type.startsWith("record")){let k=r(y.using);for(const[N,Z]of Object.entries(k))h=h.concat(p(`${S}.${N}`,Z,b==null?void 0:b[N]))}else if(b===Object(b)&&y.using)if((C=b.dest)!=null&&C.key){let k=r(y.using);for(const[N,Z]of Object.entries(k))h=h.concat(p(`${S}.${N}`,Z,(B=b.rel)==null?void 0:B[N]));h.push({[`${S}.key`]:b.dest.key})}else h.push({[`${S}`]:null});else y.type.startsWith("spatial")&&b?(h.push({[S+".lat"]:b[0]}),h.push({[S+".lng"]:b[1]})):b===Object(b)?h.push({[S]:((M=b.dest)==null?void 0:M.key)||null}):h.push({[S]:b});return h}function p(h,S,y){let b=[],C=S.type.startsWith("record"),B=S.languages||["none"],M=y;for(const k of B){let N=h;if(k!=="none"&&(N+=`.${k}`,M&&(y=M[k])),S.multiple){y||(y=[]);for(const[Z,ie]of y.entries()){let Le=N;(C||ie!=null&&ie.rel)&&(Le=`${N}.${Z}`),b=u(b,Le,S,ie)}y.length===0&&b.push({[N]:null})}else b=u(b,N,S,y)}return b}for(const[h,S]of Object.entries(t.structure))e.sendReadOnly?g.push(p(h,S,t.skel[h])):t.structure[h].readonly||g.push(p(h,S,t.skel[h]));return g=g.flat(10),g}function l(g=null,u=null,p=!0){t.loading=!0;let h=_.post;e.secure&&(h=_.securePost);let S=n();g&&(S=g);const y=new FormData;for(const C of s())for(const[B,M]of Object.entries(C)){let k=M||"";y.append(B,k)}let b={};for(const C of y.keys())C==="key"&&p||(b[[C]]=y.getAll(C));return u&&(b={...b,...u}),h(S,{dataObj:b}).then(async C=>{let B=await C.clone().json();return t.skel=B.values,t.errors=B.errors,t.loading=!1,C})}function i(g=null,u=null){t.loading=!0;let p=_.post;e.secure&&(p=_.securePost);let h=n();g&&(h=g);let S={};return u&&(S={...S,...u}),p(h,{dataObj:S}).then(async y=>{let b=await y.clone().json();return f(b.values,b.structure),t.errors=b.errors,t.loading=!1,y})}function c(){var p,h;t.structure||(t.structure={});let g={default:{name:"Allgemein",bones:[],visible:!1,open:!0}};for(const[S,y]of Object.entries(t.structure)){if(e.bones.length>0&&!e.bones.includes(S))continue;let b="default",C=t.structure[S];(p=y==null?void 0:y.params)!=null&&p.category&&(b=y.params.category.toLowerCase()),Object.keys(g).includes(b)?g[b].bones.push({name:S}):g[b]={name:y.params.category,bones:[{name:S}]},C.visible===!0&&(g[b].visible=!0),e.collapsedCategories&&e.collapsedCategories.map(B=>B.toLowerCase()).includes(b)||b==="system"||b==="internal"||((h=e.collapsedCategories)==null?void 0:h[0])==="*"?g[b].open=!1:g[b].open=!0}let u={};return Object.keys(g).sort().forEach(function(S){u[S]=g[S]}),u}function a(g){const{name:u,lang:p,value:h,index:S}=g;let y=t.skel[u];if(h===void 0||t.readonly)return!1;p?(y||(y={}),Object.keys(y).includes(p)&&S!==null?(y[p]||(y[p]=[]),y[p][S]=h):y[p]=h):S!==null?(y||(y=[]),y[S]=h):(y=h,t.skel[u]=y),m()}function d(g,u){var p,h,S,y,b,C,B;for(const[M,k]of Object.entries(g)){if((p=k==null?void 0:k.params)!=null&&p.evaluate){let N=new Logics((h=k==null?void 0:k.params)==null?void 0:h.evaluate);t.skel[M]=N.run(u)}if((S=k==null?void 0:k.params)!=null&&S.visibleIf)try{let N=new Logics((y=k==null?void 0:k.params)==null?void 0:y.visibleIf);k.visible=N.run(u).toBool()}catch{console.log((b=k==null?void 0:k.params)==null?void 0:b.visibleIf)}if((C=k==null?void 0:k.params)!=null&&C.readonlyIf){let N=new Logics((B=k==null?void 0:k.params)==null?void 0:B.readonlyIf);k.readonly=N.run(u).toBool()}k!=null&&k.using&&d(k.using,u)}}function m(){let g=t.skel;e.internal&&(g=e.internal.skel),d(t.structure,g)}function f(g,u){t.skel=g||{},t.structure=r(u),t.categories=c()}return{fetchData:i,sendData:l,buildRequestUrl:n,updateCategories:c,updateSkel:a,normalizeStructure:r,initForm:f}}const Rs=["summary","open"],Ns=E({__name:"ViFormCategory",props:{name:{type:String,required:!0},identifier:{type:String,required:!0},visible:{type:Boolean,default:!0},open:{type:Boolean,default:!0},hide:{type:Boolean,default:!1}},setup(e){return(t,n)=>e.hide?o.renderSlot(t.$slots,"default",{key:0},void 0,!0):o.withDirectives((o.openBlock(),o.createElementBlock("sl-details",{key:1,summary:e.name,open:e.open},[o.renderSlot(t.$slots,"default",{},void 0,!0)],8,Rs)),[[o.vShow,e.visible]])}},[["__scopeId","data-v-812946e1"]]),As={__name:"ViForm",props:{module:{type:String},action:null,group:null,skelkey:null,skeltype:null,secure:{type:Boolean,default:!0},skel:{type:[Object,null,String],default:null},structure:{type:[Object,Array],default:null},bones:{type:Array,default:[]},values:{type:Object,default:null},params:{type:Object,default:{}},renderer:{type:String,default:"json"},useCategories:{type:Boolean,default:!0},collapsedCategories:{type:Array,default:[]},sendReadOnly:{type:Boolean,default:!1},internal:{type:[Object,null],default:null},layout:{type:Object,default:{__name:"LayoutCategory",setup(e){const t=o.inject("formState");return o.inject("formUpdate"),(n,r)=>(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(o.unref(t).categories,(s,l)=>(o.openBlock(),o.createBlock(Ns,{name:s.name,identifier:l,visible:s.visible,open:s.open,hide:!o.unref(t).useCategories},{default:o.withCtx(()=>[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(s.bones,i=>o.renderSlot(n.$slots,"default",{key:i.name,boneName:i.name,widget:o.unref(J)(o.unref(t).structure[i.name].type),visible:o.unref(t).structure[i.name].visible,label:o.unref(t).label})),128))]),_:2},1032,["name","identifier","visible","open","hide"]))),256))}}},label:{type:String,default:"normal",validator(e,t){return["normal","top","hide"].includes(e)}}},emits:["change"],setup(e,{expose:t,emit:n}){const r=n,s=e,l=o.reactive({skel:{},structure:{},errors:[],loading:!1,categories:[],values:o.computed(()=>s.values),internal:o.computed(()=>s.internal),useCategories:o.computed(()=>s.useCategories),label:o.computed(()=>s.label)});o.provide("formState",l),s.internal||o.provide("mainformState",l);const{fetchData:i,sendData:c,updateSkel:a,initForm:d}=Bs(s,l),m=rs(g=>{r("change",g)},500);o.onBeforeMount(()=>{l.loading=!0,s.structure?(d(s.skel,s.structure),l.loading=!1):s.module&&s.action?i(null,s.params).then(async g=>{l.loading=!1}).catch(async g=>{l.loading=!1}):(console.log(s),console.error("Error while building Form: you need atleast module and action or structure parameters"))}),o.watch(()=>s.skel,(g,u)=>{d(s.skel,s.structure)});function f(g){a(g),m(g)}return o.provide("formUpdate",f),t({sendData:c,fetchData:i,updateSkel:a,state:l}),(g,u)=>{const p=o.resolveComponent("bone");return o.renderSlot(g.$slots,"default",{structure:l.structure,skel:l.skel,errors:l.errors,categories:l.categories},()=>[(o.openBlock(),o.createBlock(o.resolveDynamicComponent(e.layout),null,{default:o.withCtx(({boneName:h,widget:S,visible:y,label:b})=>[o.withDirectives(o.createVNode(p,{is:S,name:h,structure:l.structure,skel:l.skel,errors:l.errors,label:b,onChangeInternal:f},null,8,["is","name","structure","skel","errors","label"]),[[o.vShow,y]])]),_:1}))])}}},Is={key:0,open:"",variant:"danger"},Ps={key:1,class:"form"},st=E({__name:"wrapper_nested",props:{name:String,value:null,index:Number,lang:String,readonly:Boolean,params:Object,bone:Object},emits:["change"],setup(e,{emit:t}){const n=t,r=e,s=o.ref(null);o.inject("boneState");const l=o.inject("mainformState"),i=o.reactive({renderer:"json",globalRegistration:!1});function c(a){a.value=s.value.state.skel,a.name=r.name,a.index=r.index,a.lang=r.lang,n("change",a)}return o.onMounted(()=>{o.getCurrentInstance().appContext.components.Bone?i.globalRegistration=!0:i.globalRegistration=!1,n("change",r.name,r.value,r.lang,r.index)}),(a,d)=>{var m,f;return i.globalRegistration?(o.openBlock(),o.createElementBlock("div",Ps,[o.createVNode(As,{ref_key:"skelRef",ref:s,internal:o.unref(l),skel:e.value,structure:e.bone.using,renderer:i.renderer,collapsedCategories:((f=(m=e.bone)==null?void 0:m.params)==null?void 0:f.collapsedCategories)||[],onChange:c},null,8,["internal","skel","structure","renderer","collapsedCategories"])])):(o.openBlock(),o.createElementBlock("sl-alert",Is," In Order to use this Bone register the bone component globally in your main file "))}}},[["__scopeId","data-v-c5d80655"]]),Gt=E({__name:"recordBone",props:{name:String,value:null,index:Number,lang:String,bone:Object},emits:["change"],setup(e,{emit:t}){const n=t,r=e;o.reactive({});function s(l){n("change",l.name,l.value,l.lang,l.index)}return o.onMounted(()=>{n("change",r.name,r.value,r.lang,r.index)}),(l,i)=>(o.openBlock(),o.createBlock(st,{value:e.value,name:e.name,index:e.index,lang:e.lang,bone:e.bone,disabled:e.bone.readonly,onChange:s},null,8,["value","name","index","lang","bone","disabled"]))}},[["__scopeId","data-v-2567eeb3"]]),Ms=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({});function s(l){t.emit("change",e.name,l.target.value,e.lang,e.index)}return o.onMounted(()=>{t.emit("change",e.name,e.value,e.lang,e.index)}),{state:r,boneState:n,changeEvent:s}}}),xs=["disabled","value"];function Fs(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("sl-color-picker",{disabled:e.boneState.readonly,value:e.value,onSlChange:t[0]||(t[0]=(...i)=>e.changeEvent&&e.changeEvent(...i))},null,40,xs)}const Wt=E(Ms,[["render",Fs],["__scopeId","data-v-534b9149"]]),Ls=o.defineComponent({inheritAttrs:!1,emits:{change:null},props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String,autofocus:Boolean},components:{},setup(e,t){const n=o.inject("boneState"),r=o.reactive({minAmount:o.computed(()=>n.bonestructure.minAmount),maxAmount:o.computed(()=>n.bonestructure.maxAmount),precision:o.computed(()=>{if(n.bonestructure.precision>1)return parseFloat(`0.${"0".repeat(n.bonestructure.precision-1)}1`)})}),s=o.ref(null);function l(i){t.emit("change",e.name,i.target.value,e.lang,e.index)}return o.watchEffect(()=>{if(e.autofocus&&s.value&&s.value!==null&&s!==null){const{start:i}=Be(()=>{s.value.focus()},600);i()}}),o.onMounted(()=>{t.emit("change",e.name,e.value,e.lang,e.index)}),{state:r,boneState:n,changeEvent:l,numericBone:s}}}),Ds=["disabled","value","min","max","step"],Os={class:"info"},Ts={key:0},js={key:1},zs={key:2};function Hs(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock(o.Fragment,null,[o.createElementVNode("sl-input",{ref:"numericBone",type:"number",disabled:e.boneState.readonly,value:e.value,min:e.state.minAmount,max:e.state.maxAmount,step:e.state.precision,onSlChange:t[0]||(t[0]=(...i)=>e.changeEvent&&e.changeEvent(...i)),onKeyup:t[1]||(t[1]=(...i)=>e.changeEvent&&e.changeEvent(...i))},null,40,Ds),o.createElementVNode("ul",Os,[e.state.minAmount!==-9223372036854776e3&&e.state.minAmount?(o.openBlock(),o.createElementBlock("li",Ts,o.toDisplayString(e.$t("bones.numeric.min",{val:e.state.minAmount})),1)):o.createCommentVNode("",!0),e.state.maxAmount!==9223372036854776e3&&e.state.maxAmount?(o.openBlock(),o.createElementBlock("li",js,o.toDisplayString(e.$t("bones.numeric.max",{val:e.state.maxAmount})),1)):o.createCommentVNode("",!0),e.state.precision?(o.openBlock(),o.createElementBlock("li",zs,o.toDisplayString(e.$t("bones.numeric.precision",{val:e.boneState.bonestructure.precision})),1)):o.createCommentVNode("",!0)])],64)}const Kt=E(Ls,[["render",Hs],["__scopeId","data-v-03d5b399"]]),Us=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String,bone:Object},components:{Wrapper_nested:st},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.inject("formatString"),s=o.reactive({format:o.computed(()=>n==null?void 0:n.bonestructure.format),skellistdata:null,selection:null});function l(a){let d="";return n.bonestructure.type==="relational.tree.leaf.file"?d="skelType=leaf&":n.bonestructure.type==="relational.tree.node.file"&&(d="skelType=node&"),_.get(`/vi/${n.bonestructure.module}/list?${d}limit=99`).then(async m=>{var g;const f=await m.json();s.skellistdata={};for(let u of f.skellist)s.skellistdata[u.key]=u;return(g=f.skellist)==null?void 0:g.map(u=>({text:r(n.bonestructure.format,{dest:u}),value:u.key,data:u}))})}function i(a){s.selection={dest:s.skellistdata[a.detail.item.value]},t.emit("change",e.name,s.selection,e.lang,e.index)}function c(a){s.selection={...s.selection,rel:a.value},t.emit("change",a.name,s.selection,a.lang,a.index)}return o.onMounted(()=>{s.selection=e.value,t.emit("change",e.name,e.value,e.lang,e.index)}),{state:s,boneState:n,formatString:r,changeEvent:i,changeEventNested:c,getList:l}}}),qs={class:"record"},Gs={class:"single-entry"},Ws=["value"],Ks=["disabled","source"],Zs=["title"];function Js(e,t,n,r,s,l){const i=o.resolveComponent("Wrapper_nested");return o.openBlock(),o.createElementBlock("div",qs,[o.createElementVNode("div",Gs,[e.state.selection?(o.openBlock(),o.createElementBlock("sl-input",{key:0,disabled:!0,value:e.value?e.formatString(e.state.format,e.state.selection):""},null,8,Ws)):(o.openBlock(),o.createElementBlock("sl-combobox",{key:1,disabled:e.boneState.readonly,source:e.getList,hoist:"",onSlItemSelect:t[0]||(t[0]=(...c)=>e.changeEvent&&e.changeEvent(...c))},null,40,Ks)),!e.boneState.multiple&&!e.boneState.isEmpty?(o.openBlock(),o.createElementBlock("sl-button",{key:2,variant:"danger",outline:"",title:e.$t("bone.del"),class:"delete-btn square-btn",onClick:t[1]||(t[1]=()=>{e.$emit("change",e.name,"",e.lang,e.index),e.state.selection=null})},t[2]||(t[2]=[o.createElementVNode("sl-icon",{slot:"prefix",name:"x-lg"},null,-1)]),8,Zs)):o.createCommentVNode("",!0)]),e.bone.using?(o.openBlock(),o.createBlock(i,{key:0,value:e.value,name:e.name,index:e.index,bone:e.bone,disabled:e.bone.readonly,onChange:e.changeEventNested},null,8,["value","name","index","bone","disabled","onChange"])):o.createCommentVNode("",!0)])}const Zt=E(Us,[["render",Js],["__scopeId","data-v-0dd7523e"]]),Xs=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String,readonly:Boolean,params:Object},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({});function s(l,i){t.emit("change",e.name,l,e.lang,e.index)}return o.onMounted(()=>{t.emit("change",e.name,e.value,e.lang,e.index)}),{state:r,boneState:n,changeEvent:s}}}),Ys={class:"box"};function Qs(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("div",Ys,o.toDisplayString(e.value),1)}const el=E(Xs,[["render",Qs],["__scopeId","data-v-343aca69"]]),tl=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.ref(),s=o.reactive({loading:!1,droparea:!1,previewopen:!1});o.onMounted(()=>{t.emit("change",e.name,e.value,e.lang,e.index)});function l(){console.log(_.downloadUrlFor(e.value)),window.open(_.downloadUrlFor(e.value))}function i(){return _.downloadUrlFor(e.value,!1)}function c(m){const f={fileName:m.name,mimeType:m.type||"application/octet-stream",size:m.size.toString()};return new Promise((g,u)=>{_.securePost("/vi/file/getUploadURL",{dataObj:f}).then(async p=>{let h=await p.json();fetch(h.values.uploadUrl,{body:m,method:"POST",mode:"no-cors"}).then(async S=>{const y={key:h.values.uploadKey,node:void 0,skelType:"leaf"};_.securePost("/vi/file/add",{dataObj:y}).then(async b=>{let C=await b.json();C.action==="addSuccess"?g(C.values):u(C)}).catch(b=>{u(b)})}).catch(S=>{u(S)})}).catch(p=>{u(p)})})}async function a(m){s.loading=!0;for(let f of m.target.files){let g=await c(f);r.value.value=null,t.emit("change",e.name,{dest:g,rel:null},e.lang,e.index)}s.loading=!1}async function d(m){s.loading=!0,s.droparea=!1;for(let f of m.dataTransfer.files){let g=await c(f);r.value.value=null,t.emit("change",e.name,{dest:g,rel:null},e.lang,e.index);break}s.loading=!1}return{state:s,boneState:n,downloadFile:l,createBackgroundImage:i,handleUpload:a,uploadinput:r,handleDrop:d}}}),nl={key:0,class:"loader"},ol={key:1,class:"droparea"},rl=["title"],sl=["multiple"],ll=["title"],il={class:"box"},al=["src"],cl=["label","open"],dl=["src"],ul={key:1,class:"preview"},gl={key:0,name:"file-earmark"},ml={key:2},fl=["title"];function pl(e,t,n,r,s,l){var i,c,a,d,m,f,g,u,p,h;return o.openBlock(),o.createElementBlock("div",{class:"file-wrapper",onDragover:t[5]||(t[5]=o.withModifiers(S=>e.state.droparea=!0,["prevent"])),onDragleave:t[6]||(t[6]=S=>e.state.droparea=!1),onDrop:t[7]||(t[7]=o.withModifiers((...S)=>e.handleDrop&&e.handleDrop(...S),["prevent"]))},[e.state.loading?(o.openBlock(),o.createElementBlock("div",nl,t[8]||(t[8]=[o.createElementVNode("sl-spinner",{slot:"suffix"},null,-1)]))):o.createCommentVNode("",!0),e.state.droparea?(o.openBlock(),o.createElementBlock("div",ol," Dateien hier hinziehen ")):o.createCommentVNode("",!0),!e.boneState.readonly&&(!e.value||e.state.loading)?(o.openBlock(),o.createElementBlock("sl-button",{key:2,title:e.$t("bone.upload"),outline:"",class:"upload-btn",onClick:t[0]||(t[0]=S=>e.uploadinput.click())},t[9]||(t[9]=[o.createElementVNode("sl-icon",{name:"upload"},null,-1)]),8,rl)):o.createCommentVNode("",!0),o.createElementVNode("input",{ref:"uploadinput",hidden:"",type:"file",multiple:e.boneState.multiple,onChange:t[1]||(t[1]=(...S)=>e.handleUpload&&e.handleUpload(...S))},null,40,sl),e.value?(o.openBlock(),o.createElementBlock("sl-button",{key:3,title:e.$t("bone.download"),onClick:t[2]||(t[2]=(...S)=>e.downloadFile&&e.downloadFile(...S))},t[10]||(t[10]=[o.createElementVNode("sl-icon",{slot:"prefix",name:"download"},null,-1)]),8,ll)):o.createCommentVNode("",!0),o.createElementVNode("div",il,[(c=(i=e.value)==null?void 0:i.dest)!=null&&c.mimetype.includes("image")?(o.openBlock(),o.createElementBlock("div",{key:0,class:"preview has-preview",onClick:t[3]||(t[3]=S=>e.state.previewopen=!e.state.previewopen)},[o.createElementVNode("img",{class:"preview-img",src:e.createBackgroundImage(),alt:""},null,8,al),o.createElementVNode("sl-dialog",{label:decodeURIComponent((d=(a=e.value)==null?void 0:a.dest)==null?void 0:d.name),class:"preview-overlay",open:e.state.previewopen},[o.createElementVNode("img",{src:e.createBackgroundImage(),alt:""},null,8,dl)],8,cl)])):(o.openBlock(),o.createElementBlock("div",ul,[(f=(m=e.value)==null?void 0:m.dest)!=null&&f.name?(o.openBlock(),o.createElementBlock("sl-icon",gl)):o.createCommentVNode("",!0)])),(u=(g=e.value)==null?void 0:g.dest)!=null&&u.name?(o.openBlock(),o.createElementBlock("div",ml,o.toDisplayString(decodeURIComponent((h=(p=e.value)==null?void 0:p.dest)==null?void 0:h.name)),1)):o.createCommentVNode("",!0)]),e.boneState.multiple?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("sl-button",{key:4,variant:"danger",outline:"",title:e.$t("bone.del"),class:"delete-btn",onClick:t[4]||(t[4]=S=>e.$emit("change",e.name,"",e.lang,e.index))},t[11]||(t[11]=[o.createElementVNode("sl-icon",{name:"x-lg"},null,-1)]),8,fl))],32)}const Jt=E(tl,[["render",pl],["__scopeId","data-v-91086308"]]),hl=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({value:"",editorConfig:{},editor:o.computed(()=>$t)});function s(c){t.emit("change",e.name,r.value,e.lang,e.index)}function l(c){r.value=c.target.value,t.emit("change",e.name,r.value,e.lang,e.index)}o.onMounted(()=>{e.value!==null&&(r.value=e.value),t.emit("change",e.name,e.value,e.lang,e.index)});function i(c){c.editing.view.change(d=>{d.setStyle("min-height","250px",c.editing.view.document.getRoot())});const a=c.plugins.get("SourceEditing");a.on("change:isSourceEditingMode",(d,m,f)=>{var g,u;f&&((u=(g=c.editing.view.getDomRoot())==null?void 0:g.nextSibling)==null?void 0:u.firstChild).addEventListener("focusout",h=>{a.isSourceEditingMode=!1})})}return o.watch(()=>e.value,(c,a)=>{c?r.value=c:r.value=""}),{state:r,ClassicEditor:$t,boneState:n,changeEvent:s,onReady:i,changeEventTextarea:l}}}),Sl=["disabled","value"];function yl(e,t,n,r,s,l){var c,a,d,m;const i=o.resolveComponent("ckeditor");return e.state.editor?(o.openBlock(),o.createElementBlock(o.Fragment,{key:0},[(c=e.boneState.bonestructure)!=null&&c.valid_html||(a=e.boneState.bonestructure)!=null&&a.validHtml?(o.openBlock(),o.createBlock(i,{key:0,modelValue:e.state.value,"onUpdate:modelValue":t[0]||(t[0]=f=>e.state.value=f),editor:e.state.editor,config:e.state.editorConfig,disabled:(d=e.boneState)==null?void 0:d.readonly,onReady:e.onReady,onInput:e.changeEvent},null,8,["modelValue","editor","config","disabled","onReady","onInput"])):(o.openBlock(),o.createElementBlock("sl-textarea",{key:1,disabled:(m=e.boneState)==null?void 0:m.readonly,value:e.value,onInput:t[1]||(t[1]=(...f)=>e.changeEventTextarea&&e.changeEventTextarea(...f))},null,40,Sl))],64)):o.createCommentVNode("",!0)}const Xt=E(hl,[["render",yl]]),bl=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({valueLat:null,valueLng:null});function s(){t.emit("change",e.name,[r.valueLat,r.valueLng],e.lang,e.index)}return o.onMounted(()=>{try{r.valueLat=e.value[0],r.valueLng=e.value[1]}catch{}t.emit("change",e.name,[r.valueLat,r.valueLng],e.lang,e.index)}),{state:r,boneState:n,changeEvent:s}}}),$l=["name","min","max","disabled"],wl=["name","min","max","disabled"];function Cl(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock(o.Fragment,null,[o.withDirectives(o.createElementVNode("sl-input",{"onUpdate:modelValue":t[0]||(t[0]=i=>e.state.valueLat=i),index:"lat",type:"number",name:e.name,min:e.boneState.bonestructure.boundslat[0],max:e.boneState.bonestructure.boundslat[1],disabled:e.boneState.readonly,"value-as-number":"",step:"0.000001",onSlChange:t[1]||(t[1]=(...i)=>e.changeEvent&&e.changeEvent(...i)),placeholder:"Lat"},null,40,$l),[[o.vModelText,e.state.valueLat]]),o.withDirectives(o.createElementVNode("sl-input",{"onUpdate:modelValue":t[2]||(t[2]=i=>e.state.valueLng=i),index:"lng",type:"number",name:e.name,min:e.boneState.bonestructure.boundslat[0],max:e.boneState.bonestructure.boundslat[1],disabled:e.boneState.readonly,"value-as-number":"",step:"0.000001",onSlChange:t[3]||(t[3]=(...i)=>e.changeEvent&&e.changeEvent(...i)),placeholder:"Long"},null,40,wl),[[o.vModelText,e.state.valueLng]])],64)}const Yt=E(bl,[["render",Cl],["__scopeId","data-v-7bc31020"]]),kl=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({value:o.computed(()=>""+![!1,null,void 0,"","false"].includes(e.value))});function s(l){t.emit("change",e.name,l.target.value,e.lang,e.index)}return o.onMounted(()=>{let l=e.value;l||(l=!1),t.emit("change",e.name,l,e.lang,e.index)}),{state:r,boneState:n,changeEvent:s}}}),El=["disabled","value"],_l=["value"];function vl(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("sl-select",{disabled:e.boneState.readonly,value:e.state.value,hoist:"","max-options-visible":"0",onSlChange:t[0]||(t[0]=(...i)=>e.changeEvent&&e.changeEvent(...i))},[(o.openBlock(),o.createElementBlock(o.Fragment,null,o.renderList([!0,!1],i=>o.createElementVNode("sl-option",{key:i,value:i},[i?(o.openBlock(),o.createElementBlock(o.Fragment,{key:0},[o.createTextVNode(o.toDisplayString(e.$t("bones.bool.true")),1)],64)):(o.openBlock(),o.createElementBlock(o.Fragment,{key:1},[o.createTextVNode(o.toDisplayString(e.$t("bones.bool.false")),1)],64))],8,_l)),64))],40,El)}const Qt=E(kl,[["render",vl],["__scopeId","data-v-6c721dfe"]]),Vl=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({value:o.computed(()=>""+![!1,null,void 0,"","false"].includes(e.value))});function s(l){console.log(l.target.value),t.emit("change",e.name,l.target.value,e.lang,e.index)}return o.onMounted(()=>{let l=e.value;l||(l=!1),t.emit("change",e.name,l,e.lang,e.index)}),{state:r,boneState:n,changeEvent:s}}}),Bl=["value"],Rl=["disabled"],Nl=["disabled"];function Al(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("sl-radio-group",{value:e.state.value,onSlChange:t[0]||(t[0]=(...i)=>e.changeEvent&&e.changeEvent(...i))},[o.createElementVNode("sl-radio",{value:"true",disabled:e.boneState.readonly},o.toDisplayString(e.$t("bones.bool.true")),9,Rl),o.createElementVNode("sl-radio",{value:"false",disabled:e.boneState.readonly},o.toDisplayString(e.$t("bones.bool.false")),9,Nl)],40,Bl)}const en=E(Vl,[["render",Al],["__scopeId","data-v-93a36330"]]),Il=o.defineComponent({inheritAttrs:!1,props:{name:String,value:null,index:Number,lang:String},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({value:o.computed(()=>{let c=e.value;return Array.isArray(e.value)?(n.bonestructure.values instanceof Array?c=c.filter(a=>n.bonestructure.values.map(d=>d[0].toString()).includes(a)):c=c.filter(a=>Object.keys(n.bonestructure.values).map(d=>d.toString()).includes(a)),c.map(a=>a.toString())):e.value?e.value.toString():""})});function s(){if(Array.isArray(n.bonestructure.values))return n.bonestructure.values;{let c=[];for(const[a,d]of Object.entries(n.bonestructure.values))c.push([a,d]);return c}}function l(c){let a=[...r.value];c.target.checked?a.push(c.target.dataset.value):a=a.filter(d=>d!==c.target.dataset.value),t.emit("change",e.name,a,e.lang,e.index)}function i(c){t.emit("change",e.name,c.target.value,e.lang,e.index)}return o.onMounted(()=>{t.emit("change",e.name,r.value,e.lang,e.index)}),{state:r,boneState:n,changeEvent:i,changeEventMultiple:l,convertObjToList:s}}}),Pl={key:0,class:"wrapper-multiple"},Ml=["data-value","checked","disabled"],xl=["value"],Fl=["value","disabled"];function Ll(e,t,n,r,s,l){return e.boneState.bonestructure.multiple?(o.openBlock(),o.createElementBlock("div",Pl,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.convertObjToList(),i=>(o.openBlock(),o.createElementBlock("sl-checkbox",{"data-value":i[0],checked:e.state.value.includes(i[0]),disabled:e.boneState.readonly,onSlChange:t[0]||(t[0]=(...c)=>e.changeEventMultiple&&e.changeEventMultiple(...c))},o.toDisplayString(i[1]),41,Ml))),256))])):(o.openBlock(),o.createElementBlock("sl-radio-group",{key:1,value:e.state.value,onSlChange:t[1]||(t[1]=(...i)=>e.changeEvent&&e.changeEvent(...i))},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.convertObjToList(),i=>(o.openBlock(),o.createElementBlock("sl-radio",{value:i[0],disabled:e.boneState.readonly},o.toDisplayString(i[1]),9,Fl))),256))],40,xl))}const tn=E(Il,[["render",Ll],["__scopeId","data-v-d7bcff6b"]]),Dl=o.defineComponent({inheritAttrs:!1,props:{name:String,value:[Object,String,Number,Boolean,Array],index:Number,lang:String,bone:Object},components:{Wrapper_nested:st},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.inject("formatString"),s=o.reactive({format:o.computed(()=>n==null?void 0:n.bonestructure.format),skellistdata:null,selection:null});function l(a){let d="";return n.bonestructure.type==="relational.tree.leaf.file"?d="skelType=leaf&":n.bonestructure.type==="relational.tree.node.file"&&(d="skelType=node&"),_.get(`/vi/${n.bonestructure.module}/list?${d}limit=99`).then(async m=>{var g;const f=await m.json();s.skellistdata={};for(let u of f.skellist)s.skellistdata[u.key]=u;return(g=f.skellist)==null?void 0:g.map(u=>({text:r(n.bonestructure.format,{dest:u}),value:u.key,data:u}))})}function i(a){s.selection={dest:s.skellistdata[a.target.value]},t.emit("change",e.name,s.selection,e.lang,e.index)}function c(a){s.selection={...s.selection,rel:a.value},t.emit("change",a.name,s.selection,a.lang,a.index)}return o.onMounted(()=>{s.selection=e.value,l(),t.emit("change",e.name,e.value,e.lang,e.index)}),{state:s,boneState:n,formatString:r,changeEvent:i,changeEventNested:c,getList:l}}}),Ol={class:"record"},Tl={class:"single-entry"},jl=["disabled","value"],zl=["value"];function Hl(e,t,n,r,s,l){var c;const i=o.resolveComponent("Wrapper_nested");return o.openBlock(),o.createElementBlock("div",Ol,[o.createElementVNode("div",Tl,[o.createElementVNode("sl-select",{disabled:e.boneState.readonly,value:(c=e.state.selection)==null?void 0:c.dest.key,hoist:"","max-options-visible":"0",clearable:"",onSlChange:t[0]||(t[0]=(...a)=>e.changeEvent&&e.changeEvent(...a))},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.state.skellistdata,(a,d)=>(o.openBlock(),o.createElementBlock("sl-option",{key:d,value:d},o.toDisplayString(e.formatString(e.state.format,a)),9,zl))),128))],40,jl)]),e.bone.using?(o.openBlock(),o.createBlock(i,{key:0,value:e.value,name:e.name,index:e.index,bone:e.bone,disabled:e.bone.readonly,onChange:e.changeEventNested},null,8,["value","name","index","bone","disabled","onChange"])):o.createCommentVNode("",!0)])}const nn=E(Dl,[["render",Hl],["__scopeId","data-v-c902615f"]]),Ul=o.defineComponent({props:{name:String,value:Object,index:Number,lang:String,readonly:Boolean,params:Object},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.reactive({counter:0,debounce:null}),s=o.inject("addMultipleEntry"),l=o.inject("removeMultipleEntries");function i(){r.counter+=1;let a=200;r.counter>1&&(a=500),r.debounce&&clearTimeout(r.debounce),r.debounce=setTimeout(()=>{for(let d=r.counter;d--;)s(e.lang);r.counter=0},a)}function c(){let a=200;r.debounce&&clearTimeout(r.debounce),r.debounce=setTimeout(()=>{l(e.lang)},a)}return o.onMounted(()=>{(!e.value||e.value.length===0)&&t.emit("change",e.name,[],e.lang)}),{state:r,boneState:n,handleAdd:i,handleRemove:c,removeMultipleEntries:l}}}),ql={class:"actionbar"},Gl=["title"],Wl=["title"];function Kl(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("div",ql,[e.boneState.multiple&&!e.readonly?(o.openBlock(),o.createElementBlock("sl-button",{key:0,variant:"danger",title:e.$t("bone.delAll"),outline:"",class:"delete-btn",onClick:t[0]||(t[0]=i=>e.handleRemove(e.lang))},o.toDisplayString(e.$t("bone.delAll")),9,Gl)):o.createCommentVNode("",!0),e.boneState.multiple&&!e.readonly?(o.openBlock(),o.createElementBlock("sl-button",{key:1,variant:"success",title:e.$t("bone.add"),outline:"",class:"add-btn",onClick:t[1]||(t[1]=i=>e.handleAdd(e.lang))},[t[2]||(t[2]=o.createElementVNode("sl-icon",{slot:"prefix",name:"plus-lg"},null,-1)),o.createTextVNode(" "+o.toDisplayString(e.$t("bone.add"))+" ",1),e.state.counter>1?(o.openBlock(),o.createElementBlock(o.Fragment,{key:0},[o.createTextVNode("("+o.toDisplayString(e.state.counter)+")",1)],64)):o.createCommentVNode("",!0)],8,Wl)):o.createCommentVNode("",!0)])}const Zl=E(Ul,[["render",Kl],["__scopeId","data-v-1b795e43"]]),Jl=o.defineComponent({props:{name:String,value:Object,index:Number,lang:String,readonly:Boolean,params:Object},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.inject("addMultipleEntry"),s=o.inject("formatString"),l=null,i=o.reactive({skels:{},hasUsing:o.computed(()=>n==null?void 0:n.bonestructure.using)});function c(a){let d="";return n.bonestructure.type==="relational.tree.leaf.file"?d="skelType=leaf&":n.bonestructure.type==="relational.tree.node.file"&&(d="skelType=node&"),_.get(`/vi/${n.bonestructure.module}/list?${d}limit=99`).then(async m=>{var g;const f=await m.json();return i.skels=f.skellist.reduce((u,p)=>(u[p.key]=p,u),{}),(g=f.skellist)==null?void 0:g.map(u=>({text:s(n.bonestructure.format,{dest:u}),value:u.key,data:u}))})}return o.onMounted(()=>{(!e.value||e.value.length===0)&&t.emit("change",e.name,[],e.lang)}),{state:i,boneState:n,addMultipleEntry:r,removeMultipleEntries:l,getList:c}}}),Xl={class:"actionbar"},Yl=["title"],Ql=["source"],ei=["title"];function ti(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("div",Xl,[e.boneState.multiple&&!e.readonly?(o.openBlock(),o.createElementBlock("sl-button",{key:0,variant:"danger",title:e.$t("bone.del"),outline:"",class:"delete-btn",onClick:t[0]||(t[0]=i=>e.openSelector())},t[3]||(t[3]=[o.createElementVNode("sl-icon",{slot:"prefix",name:"x-lg"},null,-1)]),8,Yl)):o.createCommentVNode("",!0),o.createElementVNode("sl-combobox",{source:e.getList,hoist:"",onSlItemSelect:t[1]||(t[1]=i=>{var c;return e.addMultipleEntry(e.lang,{dest:(c=e.state.skels)==null?void 0:c[i.detail.item.value],rel:e.state.hasUsing?void 0:null})})},null,40,Ql),e.boneState.multiple&&!e.readonly?(o.openBlock(),o.createElementBlock("sl-button",{key:1,variant:"success",title:e.$t("bone.add"),outline:"",class:"add-btn",onClick:t[2]||(t[2]=i=>e.addMultipleEntry(e.lang))},[t[4]||(t[4]=o.createElementVNode("sl-icon",{slot:"prefix",name:"plus-lg"},null,-1)),o.createTextVNode(" "+o.toDisplayString(e.$t("bone.list")),1)],8,ei)):o.createCommentVNode("",!0)])}const ni=E(Jl,[["render",ti],["__scopeId","data-v-eeea51c6"]]),oi=o.defineComponent({props:{name:String,value:Object,index:Number,lang:String,readonly:Boolean,params:Object},components:{},emits:["change"],setup(e,t){const n=o.inject("boneState"),r=o.inject("addMultipleEntry");o.inject("formatString");const s=null,l=o.ref(),i=o.reactive({skels:{},uploadinput:null,loading:!1,droparea:!1,hasUsing:o.computed(()=>n==null?void 0:n.bonestructure.using)});function c(m){const f={fileName:m.name,mimeType:m.type||"application/octet-stream",size:m.size.toString()};return new Promise((g,u)=>{_.securePost("/vi/file/getUploadURL",{dataObj:f}).then(async p=>{let h=await p.json();fetch(h.values.uploadUrl,{body:m,method:"POST",mode:"no-cors"}).then(async S=>{const y={key:h.values.uploadKey,node:void 0,skelType:"leaf"};_.securePost("/vi/file/add",{dataObj:y}).then(async b=>{let C=await b.json();C.action==="addSuccess"?g(C.values):u(C)}).catch(b=>{u(b)})}).catch(S=>{u(S)})}).catch(p=>{u(p)})})}async function a(m){i.loading=!0;for(let f of m.target.files){let g=await c(f);l.value.value=null;let u=null;i.hasUsing&&(u=void 0),r(e.lang,{dest:g,rel:u})}i.loading=!1}async function d(m){i.loading=!0,i.droparea=!1;for(let f of m.dataTransfer.files){let g=await c(f);l.value.value=null;let u=null;i.hasUsing&&(u=void 0),r(e.lang,{dest:g,rel:u})}i.loading=!1}return o.onMounted(()=>{(!e.value||e.value.length===0)&&t.emit("change",e.name,[],e.lang)}),{state:i,boneState:n,addMultipleEntry:r,removeMultipleEntries:s,uploadFile:c,uploadinput:l,handleUpload:a,handleDrop:d}}}),ri=["title"],si={key:1,class:"droparea"},li=["multiple"],ii=["title"],ai=["title"],ci={key:0,slot:"suffix"};function di(e,t,n,r,s,l){return o.openBlock(),o.createElementBlock("div",{class:"actionbar",onDragover:t[4]||(t[4]=o.withModifiers(i=>e.state.droparea=!0,["prevent"])),onDragleave:t[5]||(t[5]=i=>e.state.droparea=!1),onDrop:t[6]||(t[6]=o.withModifiers((...i)=>e.handleDrop&&e.handleDrop(...i),["prevent"]))},[e.boneState.multiple&&!e.readonly?(o.openBlock(),o.createElementBlock("sl-button",{key:0,variant:"danger",title:e.$t("bone.del"),outline:"",class:"delete-btn",onClick:t[0]||(t[0]=i=>e.openSelector())},t[7]||(t[7]=[o.createElementVNode("sl-icon",{slot:"prefix",name:"x-lg"},null,-1)]),8,ri)):o.createCommentVNode("",!0),e.state.droparea?(o.openBlock(),o.createElementBlock("div",si," Dateien hier hinziehen ")):o.createCommentVNode("",!0),o.createElementVNode("input",{ref:"uploadinput",hidden:"",type:"file",multiple:e.boneState.multiple,onChange:t[1]||(t[1]=(...i)=>e.handleUpload&&e.handleUpload(...i))},null,40,li),e.boneState.multiple&&!e.readonly?(o.openBlock(),o.createElementBlock("sl-button",{key:2,outline:"",title:e.$t("bone.list"),class:"add-btn",onClick:t[2]||(t[2]=i=>e.addMultipleEntry(e.lang))},t[8]||(t[8]=[o.createElementVNode("sl-icon",{slot:"prefix",name:"plus-lg"},null,-1)]),8,ii)):o.createCommentVNode("",!0),e.boneState.multiple&&!e.readonly?(o.openBlock(),o.createElementBlock("sl-button",{key:3,variant:"success",outline:"",title:e.$t("bone.upload"),class:"upload-btn",onClick:t[3]||(t[3]=i=>e.uploadinput.click())},[t[9]||(t[9]=o.createElementVNode("sl-icon",{name:"upload"},null,-1)),o.createTextVNode(" "+o.toDisplayString(e.$t("bone.upload"))+" ",1),e.state.loading?(o.openBlock(),o.createElementBlock("sl-spinner",ci)):o.createCommentVNode("",!0)],8,ai)):o.createCommentVNode("",!0)],32)}const ui=E(oi,[["render",di],["__scopeId","data-v-9bac9f8a"]]),gi=x.defineStore("boneStore",()=>{const e=o.reactive({additionalBones:o.shallowRef({}),defaultBones:o.shallowRef({rawBone:Lt,keyBone:Dt,stringBone:Tt,emailBone:jt,dateBone:zt,booleanBone:Ut,selectBone:Ht,passwordBone:qt,recordBone:Gt,numericBone:Kt,colorBone:Wt,relationalBone:Zt,jsonBone:el,fileBone:Jt,textBone:Xt,spatialBone:Yt,booleanBoneSelect:Qt,booleanBoneChoose:en,selectBoneChoose:tn,relationalBoneSelect:nn}),actionbars:o.shallowRef({"relational.tree.leaf.file.file":ui,"relational.":ni}),multibones:o.shallowRef(["select","select."])});function t(i,c){e.additionalBones[i]=c}function n(){let i=e.defaultBones;for(const[c,a]of Object.entries(e.additionalBones))i.add(a);return i}function r(i){if(Object.keys(e.additionalBones).includes(i))return e.additionalBones[i];{let c=i.split("."),a=Object.entries(e.additionalBones).filter(d=>d[0].startsWith(c[0]+"."));if(a.length>0){a.sort((d,m)=>m.length-d.length);for(let d of a)if(i.startsWith(d[0]))return e.additionalBones[d[0]]}}return i==="date"?zt:i==="key"?Dt:i==="str.email"?jt:i==="str"||i.startsWith("str.")?Tt:i==="select.choose"?tn:i==="select"||i.startsWith("select.")?Ht:i==="bool.choose"?en:i==="bool.select"?Qt:i==="bool"||i.startsWith("bool.")?Ut:i==="password"?qt:i==="record"?Gt:i==="numeric"||i.startsWith("numeric.")?Kt:i==="relational.tree.leaf.file.file"?Jt:i==="relational.select"||i.startsWith("relational.select.")?nn:i==="relational"||i.startsWith("relational.")?Zt:i==="color"?Wt:i==="text"?Xt:i==="spatial"?Yt:Lt}function s(i,c){e.actionbars[i]=c}function l(i){if(Object.keys(e.actionbars).includes(i))return e.actionbars[i];{let c=i.split("."),a=Object.entries(e.actionbars).filter(d=>d[0].startsWith(c[0]+"."));if(a.length>0){a.sort((d,m)=>m.length-d.length);for(let d of a)if(i.startsWith(d[0]))return e.actionbars[d[0]]}}return Zl}return{state:e,addBoneWidget:t,getBoneWidget:r,importWidgets:n,addBoneActionbar:s,getBoneActionbar:l}});function J(e){return gi().getBoneWidget(e)}const mi={class:"viur-shop-form-wrap"},fi={class:"viur-shop-form-wrap"},pi={key:0},hi={class:"viur-shop-form-wrap"},on=E({__name:"UserInformation",props:{mode:{type:String,default:"form"},conditions:{type:Function}},setup(e){const t=j(),n=o.reactive({formValues:{},requiredFieldsFilled:o.computed(()=>{if(n.isCustomAdress)return Object.keys(n.formValues).includes("city")&&Object.keys(n.formValues).includes("street")&&Object.keys(n.formValues).includes("billing.city")&&Object.keys(n.formValues).includes("billing.street")&&Object.keys(n.formValues).includes("email")&&Object.keys(n.formValues).includes("firstname")&&Object.keys(n.formValues).includes("lastname");if(!n.isCustomAdress)return Object.keys(n.formValues).includes("city")&&Object.keys(n.formValues).includes("street")&&Object.keys(n.formValues).includes("email")&&Object.keys(n.formValues).includes("firstname")&&Object.keys(n.formValues).includes("lastname")}),isCustomAdress:!1,addSkel:null,errors:{}});function r(i){n.isCustomAdress=!i.target.checked}function s(i,c){for(const[a,d]of Object.entries(c.value[0]))n.formValues[a]=d}function l(i){let c={};return Array.isArray(i)?(i.forEach(a=>{let d=a[0],m=a[1];c[d]=m}),console.log("output",c),c):i}return o.watch(n.formValues,i=>{Object.entries(i).forEach(([c,a])=>{a===""&&delete n.formValues[c]})}),o.onBeforeMount(async()=>{await t.getAddressStructure(),await t.getAddress(),n.addSkel=l(t.state.structure.address),n.formValues=t.state.shippingAddress}),(i,c)=>{const a=o.resolveComponent("bone");return o.openBlock(),o.createElementBlock(o.Fragment,null,[o.createElementVNode("div",null,[c[0]||(c[0]=o.createElementVNode("h2",{class:"viur-shop-form-headline headline"},"Nutzterdaten",-1)),o.createElementVNode("div",mi,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.addSkel,(d,m)=>(o.openBlock(),o.createElementBlock(o.Fragment,{key:m},[d.visible&&d.params.group==="Customer Info"?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass("viur-shop-form-bone-"+m)},[d.visible&&d.params.group==="Customer Info"?(o.openBlock(),o.createBlock(a,{key:0,is:o.unref(J)(d.type),name:m,structure:l(n.addSkel),errors:n.errors[m]?n.errors[m]:[],skel:n.formValues,onChange:f=>s(m,f),class:"viur-shop-form-grid-w-2"},null,8,["is","name","structure","errors","skel","onChange"])):o.createCommentVNode("",!0)],2)):o.createCommentVNode("",!0)],64))),128))])]),o.createElementVNode("div",null,[c[1]||(c[1]=o.createElementVNode("h2",{class:"viur-shop-form-headline headline"},"Lieferadresse",-1)),o.createElementVNode("div",fi,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.addSkel,(d,m)=>(o.openBlock(),o.createElementBlock(o.Fragment,{key:m},[d.visible&&d.params.group==="Customer Address"?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass("viur-shop-form-bone-"+m)},[d.visible&&d.params.group==="Customer Address"?(o.openBlock(),o.createBlock(a,{key:0,is:o.unref(J)(d.type),name:m,structure:l(n.addSkel),errors:n.errors[m]?n.errors[m]:[],skel:n.formValues,onChange:f=>s(m,f)},null,8,["is","name","structure","errors","skel","onChange"])):o.createCommentVNode("",!0)],2)):o.createCommentVNode("",!0)],64))),128))])]),n.isCustomAdress?(o.openBlock(),o.createElementBlock("div",pi,[c[2]||(c[2]=o.createElementVNode("h2",{class:"viur-shop-form-headline headline"},"Rechnungsadresse",-1)),o.createElementVNode("div",hi,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.addSkel,(d,m)=>(o.openBlock(),o.createElementBlock(o.Fragment,{key:m},[d.visible&&d.params.group==="Customer Address"?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass("viur-shop-form-bone-"+m)},[d.visible&&d.params.group==="Customer Address"?(o.openBlock(),o.createBlock(a,{key:0,is:o.unref(J)(d.type),name:m,structure:l(n.addSkel),errors:n.errors[m]?n.errors[m]:[],skel:n.formValues,onChange:f=>s(m,f)},null,8,["is","name","structure","errors","skel","onChange"])):o.createCommentVNode("",!0)],2)):o.createCommentVNode("",!0)],64))),128))])])):o.createCommentVNode("",!0),o.createElementVNode("sl-checkbox",{onSlChange:r,checked:"",class:"viur-shop-form-bill-check"}," Rechnungsadresse wie Lieferadresse ",32)],64)}}},[["__scopeId","data-v-4d14c6fe"]]),Si={class:"viur-shop-form-wrap"},yi=["onSlChange","onSlClear","label"],bi=["value"],$i={key:0},wi={class:"viur-shop-form-wrap"},rn=E({__name:"UserInfoMulti",props:{mode:{type:String,default:"form"}},setup(e){const t=j(),n=o.reactive({formValues:{},requiredFieldsFilled:o.computed(()=>{if(n.isCustomAdress)return Object.keys(n.formValues).includes("city")&&Object.keys(n.formValues).includes("street")&&Object.keys(n.formValues).includes("billing.city")&&Object.keys(n.formValues).includes("billing.street")&&Object.keys(n.formValues).includes("email")&&Object.keys(n.formValues).includes("firstname")&&Object.keys(n.formValues).includes("lastname");if(!n.isCustomAdress)return Object.keys(n.formValues).includes("city")&&Object.keys(n.formValues).includes("street")&&Object.keys(n.formValues).includes("email")&&Object.keys(n.formValues).includes("firstname")&&Object.keys(n.formValues).includes("lastname")}),isCustomAdress:!1,shippingAdressAmount:1,maxShippingAdress:o.computed(()=>Object.keys(t.state.carts).length+2),amountAlert:{title:"",msg:""},items:null,addSkel:null,errors:{},selectedItem:{},isInit:o.computed(()=>!!t.state.carts[t.state.basket])}),r=o.ref(null),s=o.ref(null);function l(g){g.target.checked&&(n.isCustomAdress=!1),g.target.checked||(n.isCustomAdress=!0)}function i(){if(n.shippingAdressAmount===n.maxShippingAdress){n.amountAlert.title="Zu viele Lieferadressen",n.amountAlert.msg=`Sie können nur maximal: "${n.maxShippingAdress}" Lieferadressen verwenden.`,s.value.show();return}n.shippingAdressAmount+=1}function c(g,u){for(const[p,h]of Object.entries(u.value[0]))n.formValues[p]=h}function a(){if(n.shippingAdressAmount===1){n.amountAlert.title="Zu wenig Lieferadressen",n.amountAlert.msg="Mindestens eine Lieferadresse muss angegeben werden.",s.value.show();return}n.shippingAdressAmount-=1}function d(g,u){if(console.log(g.target.value),!g.target.value.length){m();return}n.selectedItem[u]=g.target.value,n.isItemSelected=!0}function m(g,u){console.log("clearing..."),delete n.selectedItem[u],n.isItemSelected=!1}function f(g){let u={};return Array.isArray(g)?(g.forEach(p=>{let h=p[0],S=p[1];u[h]=S}),u):g}return o.watch(n.formValues,g=>{Object.entries(g).forEach(([u,p])=>{p===""&&delete n.formValues[u]})}),o.onBeforeMount(async()=>{await t.getAddressStructure(),n.addSkel=f(t.state.structure.address)}),(g,u)=>{const p=o.resolveComponent("bone");return o.openBlock(),o.createElementBlock(o.Fragment,null,[o.createElementVNode("div",null,[u[0]||(u[0]=o.createElementVNode("h2",{class:"viur-shop-form-headline headline"},"Nutzterdaten",-1)),o.createElementVNode("div",Si,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.addSkel,(h,S)=>(o.openBlock(),o.createElementBlock(o.Fragment,{key:S},[h.visible&&h.params.group==="Customer Info"?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass("viur-shop-form-bone-"+S)},[h.visible&&h.params.group==="Customer Info"?(o.openBlock(),o.createBlock(p,{key:0,is:o.unref(J)(h.type),name:S,structure:f(n.addSkel),errors:n.errors[S]?n.errors[S]:[],skel:n.formValues,onChange:y=>c(S,y)},null,8,["is","name","structure","errors","skel","onChange"])):o.createCommentVNode("",!0)],2)):o.createCommentVNode("",!0)],64))),128))])]),u[6]||(u[6]=o.createElementVNode("h2",{class:"viur-shop-form-headline headline"},"Lieferadresse",-1)),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.shippingAdressAmount,h=>(o.openBlock(),o.createElementBlock("div",{class:"viur-shop-form-wrap",key:h},[o.createElementVNode("sl-select",{clearable:"",ref_for:!0,ref_key:"itemSelection",ref:r,onSlChange:S=>d(S,h),onSlClear:S=>m(S,h),label:n.selectedItem[h]?o.unref(t).state.carts[n.selectedItem[h]].info.name:"Warenkorb für Adresse wählen.",class:"viur-shop-form-cart-select"},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(o.unref(t).state.carts,(S,y)=>(o.openBlock(),o.createElementBlock("sl-option",{value:y},o.toDisplayString(S.info.name),9,bi))),256))],40,yi),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.addSkel,(S,y)=>(o.openBlock(),o.createElementBlock(o.Fragment,{key:y},[S.visible&&S.params.group==="Customer Address"?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass("viur-shop-form-bone-"+y)},[S.visible&&S.params.group==="Customer Address"?(o.openBlock(),o.createBlock(p,{key:0,is:o.unref(J)(S.type),name:y,structure:f(n.addSkel),errors:n.errors[y]?n.errors[y]:[],skel:n.formValues,onChange:b=>c(y,b)},null,8,["is","name","structure","errors","skel","onChange"])):o.createCommentVNode("",!0)],2)):o.createCommentVNode("",!0)],64))),128))]))),128)),n.isCustomAdress?(o.openBlock(),o.createElementBlock("div",$i,[u[1]||(u[1]=o.createElementVNode("h2",{class:"viur-shop-form-headline headline"},"Rechnungsadresse",-1)),o.createElementVNode("div",wi,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(n.addSkel,(h,S)=>(o.openBlock(),o.createElementBlock(o.Fragment,{key:S},[h.visible&&h.params.group==="Customer Address"?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass("viur-shop-form-bone-"+S)},[h.visible&&h.params.group==="Customer Address"?(o.openBlock(),o.createBlock(p,{key:0,is:o.unref(J)(h.type),name:S,structure:f(n.addSkel),errors:n.errors[S]?n.errors[S]:[],skel:n.formValues,onChange:y=>c(S,y)},null,8,["is","name","structure","errors","skel","onChange"])):o.createCommentVNode("",!0)],2)):o.createCommentVNode("",!0)],64))),128))])])):o.createCommentVNode("",!0),o.createElementVNode("div",{class:"viur-shop-form-btn-wrap"},[o.createElementVNode("sl-button",{size:"medium",onClick:a,title:"Lieferadresse entfernen"},u[2]||(u[2]=[o.createElementVNode("sl-icon",{name:"x-lg",slot:"prefix"},null,-1)])),o.createElementVNode("sl-button",{size:"medium",variant:"primary",onClick:i},u[3]||(u[3]=[o.createElementVNode("sl-icon",{name:"plus-lg",slot:"prefix"},null,-1),o.createTextVNode(" Lieferadresse hinzufügen ")]))]),o.createElementVNode("sl-alert",{variant:"warning",duration:"2000",ref_key:"shippingWarning",ref:s,closable:""},[u[4]||(u[4]=o.createElementVNode("sl-icon",{slot:"icon",name:"exclamation-triangle"},null,-1)),o.createElementVNode("strong",null,o.toDisplayString(n.amountAlert.title),1),u[5]||(u[5]=o.createElementVNode("br",null,null,-1)),o.createTextVNode(" "+o.toDisplayString(n.amountAlert.msg),1)],512),o.createElementVNode("sl-checkbox",{onSlChange:l,checked:"",class:"viur-shop-form-bill-check"}," Rechnungsadresse wie Lieferadresse ",32)],64)}}},[["__scopeId","data-v-c4232b7a"]]),sn={__name:"ExampleUsage",setup(e){const t=j(),n=o.computed(()=>t.state.basketRootNode.key?t.state.basketRootNode.key:""),r=o.reactive({rootNode:{},tabs:{cart:{component:o.shallowRef(Ce),props:{sidebar:!0,mode:"basket",cartKey:n,placeholder:"/static/partnerbereich/img/placeholder.svg"},displayName:"Warenkorb",position:2,disabled:!1},confirm:{component:o.shallowRef(nt),props:{},displayName:"Bestellung prüfen",position:5,disabled:!1},orderComplete:{component:o.shallowRef(Ft),props:{redirectUrl:"http://localhost:8081",additionalComponents:[{component:o.shallowRef(Ce),props:{sidebar:!0,mode:"basket",cartKey:n}}]},displayName:"Bestellung Abgeschlossen",icon:{name:"bag-check"},position:6,disabled:!0},userInfo:{component:o.shallowRef(on),props:{},displayName:"Daten Eingeben",icon:{name:"card-list"},position:3,disabled:!1},userInfoMulti:{component:o.shallowRef(rn),props:{},displayName:"Daten Eingeben (Multi)",icon:{name:"card-list"},position:4,disabled:!1}}});function s(l){(l==null?void 0:l.detail.name)==="confirm"&&(r.tabs.orderComplete.disabled=!1)}return o.onBeforeMount(async()=>{await t.init(),await t.getAddressStructure(),console.log("debug init exampleusage :",t.state.basketRootNode)}),(l,i)=>(o.openBlock(),o.createBlock(wt,{tabs:r.tabs,onTabChange:s,sidebar:!0},null,8,["tabs"]))}},Ci=Object.freeze(Object.defineProperty({__proto__:null,default:sn},Symbol.toStringTag,{value:"Module"})),ki=x.createPinia(),Ei={install(e){e.use(ki)}},_i={class:"viur-shop-item-card-card"},vi=["src","alt"],Vi={class:"viur-shop-item-card-headline"},Bi={class:"viur-shop-item-card-price"},Ri={class:"viur-shop-item-card-footer",slot:"footer"},ln=E({__name:"ItemCard",props:{item:{type:Object,required:!0}},setup(e){const t=j();function n(r){let s="https://images.unsplash.com/photo-1559209172-0ff8f6d49ff7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=80";return r.dk_artikel.dest.image?we.Request.downloadUrlFor(r.dk_artikel.dest.image):s}return(r,s)=>(o.openBlock(),o.createElementBlock("sl-card",_i,[o.createElementVNode("img",{slot:"image",src:n(e.item),alt:e.item.shop_name,loading:"lazy",class:"viur-shop-item-card-image"},null,8,vi),o.createElementVNode("h3",Vi,o.toDisplayString(e.item.shop_name),1),s[3]||(s[3]=o.createElementVNode("h4",{class:"viur-shop-item-card-subline"},"B 21 x H 6,5 x T 19 cm",-1)),o.createElementVNode("div",Bi,o.toDisplayString(e.item.shop_price_retail)+" €",1),o.createElementVNode("div",Ri,[o.createElementVNode("sl-button",{size:"small",class:"viur-shop-item-card-add-to-cart-btn",variant:"primary",title:"Add to cart",onClick:s[0]||(s[0]=o.withModifiers(l=>o.unref(t).addToCart(e.item.key,o.unref(t).state.basket),["stop"]))},s[1]||(s[1]=[o.createElementVNode("sl-icon",{name:"bag-plus",slot:"prefix"},null,-1),o.createTextVNode(" In den Warenkorb ")])),s[2]||(s[2]=o.createElementVNode("sl-button",{size:"small",outline:"",class:"viur-shop-item-card-add-to-favourites-btn",variant:"primary",title:"Add to favourites"},[o.createElementVNode("sl-icon",{name:"heart",slot:"prefix"})],-1))])]))}},[["__scopeId","data-v-dc32dd0b"]]),Ni={key:0,class:"viur-shop-loading-wrap"},Ai={key:1,class:"bind"},Ii={class:"page-header"},Pi={class:"viur-shop-category-view-list"},Mi=["loading","disabled"],xi=Object.freeze(Object.defineProperty({__proto__:null,default:E({__name:"CategoryView",props:{skellist:{type:Array},filter:{type:Boolean,default:!0},pageHeader:{type:String,default:"Artikel Liste"},listHandler:{type:Object,required:!0}},setup(e){const t=e,n=T.useRoute(),r=j(),s=o.reactive({skellist:[],loading:!0,currentCursor:"",isLastItem:!1,itemCount:99,itemType:o.computed(()=>n.params.identifier)}),l=t.listHandler;async function i(){s.loading=!0,await l.next(),s.skellist.length<l.state.skellist.length?(s.skellist=l.state.skellist,s.loading=!1):(s.loading=!1,s.isLastItem=!0)}return o.onMounted(async()=>{await r.init(),await l.fetch(!0),s.skellist=l.state.skellist,s.loading=!1}),(c,a)=>s.loading?(o.openBlock(),o.createElementBlock("div",Ni,a[0]||(a[0]=[o.createElementVNode("sl-spinner",null,null,-1)]))):(o.openBlock(),o.createElementBlock("div",Ai,[o.createElementVNode("div",Ii,[o.createElementVNode("h1",null,o.toDisplayString(e.pageHeader),1)]),e.filter?o.renderSlot(c.$slots,"filter",{key:0},()=>[a[1]||(a[1]=o.createTextVNode(" text-transform text-transform TEST "))],!0):o.createCommentVNode("",!0),o.createElementVNode("div",Pi,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(s.skellist,d=>(o.openBlock(),o.createBlock(ln,{key:d.shop_name,item:d},null,8,["item"]))),128))]),o.createElementVNode("sl-button",{onClick:i,loading:s.loading,disabled:s.isLastItem,class:"viur-shop-category-view-more-button"}," Mehr anzeigen ",8,Mi)]))}},[["__scopeId","data-v-532e5cf3"]])},Symbol.toStringTag,{value:"Module"}));function an(e,t,n){const r=s=>Object.is(s,-0)?0:s;return e<t?r(t):e>n?r(n):r(e)}var Fi=class{constructor(e,t){this.timerId=0,this.activeInteractions=0,this.paused=!1,this.stopped=!0,this.pause=()=>{this.activeInteractions++||(this.paused=!0,this.host.requestUpdate())},this.resume=()=>{--this.activeInteractions||(this.paused=!1,this.host.requestUpdate())},e.addController(this),this.host=e,this.tickCallback=t}hostConnected(){this.host.addEventListener("mouseenter",this.pause),this.host.addEventListener("mouseleave",this.resume),this.host.addEventListener("focusin",this.pause),this.host.addEventListener("focusout",this.resume),this.host.addEventListener("touchstart",this.pause,{passive:!0}),this.host.addEventListener("touchend",this.resume)}hostDisconnected(){this.stop(),this.host.removeEventListener("mouseenter",this.pause),this.host.removeEventListener("mouseleave",this.resume),this.host.removeEventListener("focusin",this.pause),this.host.removeEventListener("focusout",this.resume),this.host.removeEventListener("touchstart",this.pause),this.host.removeEventListener("touchend",this.resume)}start(e){this.stop(),this.stopped=!1,this.timerId=window.setInterval(()=>{this.paused||this.tickCallback()},e)}stop(){clearInterval(this.timerId),this.stopped=!0,this.host.requestUpdate()}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ne=globalThis,lt=Ne.ShadowRoot&&(Ne.ShadyCSS===void 0||Ne.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,it=Symbol(),cn=new WeakMap;let dn=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==it)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(lt&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=cn.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&cn.set(n,t))}return t}toString(){return this.cssText}};const Li=e=>new dn(typeof e=="string"?e:e+"",void 0,it),at=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,s,l)=>r+(i=>{if(i._$cssResult$===!0)return i.cssText;if(typeof i=="number")return i;throw Error("Value passed to 'css' function must be a 'css' function result: "+i+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[l+1],e[0]);return new dn(n,e,it)},Di=(e,t)=>{if(lt)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),s=Ne.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,e.appendChild(r)}},un=lt?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return Li(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Oi,defineProperty:Ti,getOwnPropertyDescriptor:ji,getOwnPropertyNames:zi,getOwnPropertySymbols:Hi,getPrototypeOf:Ui}=Object,W=globalThis,gn=W.trustedTypes,qi=gn?gn.emptyScript:"",ct=W.reactiveElementPolyfillSupport,ge=(e,t)=>e,Ae={toAttribute(e,t){switch(t){case Boolean:e=e?qi:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},dt=(e,t)=>!Oi(e,t),mn={attribute:!0,type:String,converter:Ae,reflect:!1,hasChanged:dt};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),W.litPropertyMetadata??(W.litPropertyMetadata=new WeakMap);class oe extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=mn){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,n);s!==void 0&&Ti(this.prototype,t,s)}}static getPropertyDescriptor(t,n,r){const{get:s,set:l}=ji(this.prototype,t)??{get(){return this[n]},set(i){this[n]=i}};return{get(){return s==null?void 0:s.call(this)},set(i){const c=s==null?void 0:s.call(this);l.call(this,i),this.requestUpdate(t,c,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??mn}static _$Ei(){if(this.hasOwnProperty(ge("elementProperties")))return;const t=Ui(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(ge("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(ge("properties"))){const n=this.properties,r=[...zi(n),...Hi(n)];for(const s of r)this.createProperty(s,n[s])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)n.unshift(un(s))}else t!==void 0&&n.push(un(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Di(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$EC(t,n){var l;const r=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,r);if(s!==void 0&&r.reflect===!0){const i=(((l=r.converter)==null?void 0:l.toAttribute)!==void 0?r.converter:Ae).toAttribute(n,r.type);this._$Em=t,i==null?this.removeAttribute(s):this.setAttribute(s,i),this._$Em=null}}_$AK(t,n){var l;const r=this.constructor,s=r._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const i=r.getPropertyOptions(s),c=typeof i.converter=="function"?{fromAttribute:i.converter}:((l=i.converter)==null?void 0:l.fromAttribute)!==void 0?i.converter:Ae;this._$Em=s,this[s]=c.fromAttribute(n,i.type),this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){if(r??(r=this.constructor.getPropertyOptions(t)),!(r.hasChanged??dt)(this[t],n))return;this.P(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,n,r){this._$AL.has(t)||this._$AL.set(t,n),r.reflect===!0&&this._$Em!==t&&(this._$Ej??(this._$Ej=new Set)).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[l,i]of this._$Ep)this[l]=i;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[l,i]of s)i.wrapped!==!0||this._$AL.has(l)||this[l]===void 0||this.P(l,this[l],i)}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var l;return(l=s.hostUpdate)==null?void 0:l.call(s)}),this.update(n)):this._$EU()}catch(s){throw t=!1,this._$EU(),s}t&&this._$AE(n)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(n=>this._$EC(n,this[n]))),this._$EU()}updated(t){}firstUpdated(t){}}oe.elementStyles=[],oe.shadowRootOptions={mode:"open"},oe[ge("elementProperties")]=new Map,oe[ge("finalized")]=new Map,ct==null||ct({ReactiveElement:oe}),(W.reactiveElementVersions??(W.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const me=globalThis,Ie=me.trustedTypes,fn=Ie?Ie.createPolicy("lit-html",{createHTML:e=>e}):void 0,pn="$lit$",K=`lit$${Math.random().toFixed(9).slice(2)}$`,hn="?"+K,Gi=`<${hn}>`,X=document,fe=()=>X.createComment(""),pe=e=>e===null||typeof e!="object"&&typeof e!="function",Sn=Array.isArray,Wi=e=>Sn(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",ut=`[ 	
\f\r]`,he=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,yn=/-->/g,bn=/>/g,Y=RegExp(`>|${ut}(?:([^\\s"'>=/]+)(${ut}*=${ut}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),$n=/'/g,wn=/"/g,Cn=/^(?:script|style|textarea|title)$/i,Ki=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),U=Ki(1),Q=Symbol.for("lit-noChange"),I=Symbol.for("lit-nothing"),kn=new WeakMap,ee=X.createTreeWalker(X,129);function En(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return fn!==void 0?fn.createHTML(t):t}const Zi=(e,t)=>{const n=e.length-1,r=[];let s,l=t===2?"<svg>":"",i=he;for(let c=0;c<n;c++){const a=e[c];let d,m,f=-1,g=0;for(;g<a.length&&(i.lastIndex=g,m=i.exec(a),m!==null);)g=i.lastIndex,i===he?m[1]==="!--"?i=yn:m[1]!==void 0?i=bn:m[2]!==void 0?(Cn.test(m[2])&&(s=RegExp("</"+m[2],"g")),i=Y):m[3]!==void 0&&(i=Y):i===Y?m[0]===">"?(i=s??he,f=-1):m[1]===void 0?f=-2:(f=i.lastIndex-m[2].length,d=m[1],i=m[3]===void 0?Y:m[3]==='"'?wn:$n):i===wn||i===$n?i=Y:i===yn||i===bn?i=he:(i=Y,s=void 0);const u=i===Y&&e[c+1].startsWith("/>")?" ":"";l+=i===he?a+Gi:f>=0?(r.push(d),a.slice(0,f)+pn+a.slice(f)+K+u):a+K+(f===-2?c:u)}return[En(e,l+(e[n]||"<?>")+(t===2?"</svg>":"")),r]};class Se{constructor({strings:t,_$litType$:n},r){let s;this.parts=[];let l=0,i=0;const c=t.length-1,a=this.parts,[d,m]=Zi(t,n);if(this.el=Se.createElement(d,r),ee.currentNode=this.el.content,n===2){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(s=ee.nextNode())!==null&&a.length<c;){if(s.nodeType===1){if(s.hasAttributes())for(const f of s.getAttributeNames())if(f.endsWith(pn)){const g=m[i++],u=s.getAttribute(f).split(K),p=/([.?@])?(.*)/.exec(g);a.push({type:1,index:l,name:p[2],strings:u,ctor:p[1]==="."?Xi:p[1]==="?"?Yi:p[1]==="@"?Qi:Pe}),s.removeAttribute(f)}else f.startsWith(K)&&(a.push({type:6,index:l}),s.removeAttribute(f));if(Cn.test(s.tagName)){const f=s.textContent.split(K),g=f.length-1;if(g>0){s.textContent=Ie?Ie.emptyScript:"";for(let u=0;u<g;u++)s.append(f[u],fe()),ee.nextNode(),a.push({type:2,index:++l});s.append(f[g],fe())}}}else if(s.nodeType===8)if(s.data===hn)a.push({type:2,index:l});else{let f=-1;for(;(f=s.data.indexOf(K,f+1))!==-1;)a.push({type:7,index:l}),f+=K.length-1}l++}}static createElement(t,n){const r=X.createElement("template");return r.innerHTML=t,r}}function re(e,t,n=e,r){var i,c;if(t===Q)return t;let s=r!==void 0?(i=n._$Co)==null?void 0:i[r]:n._$Cl;const l=pe(t)?void 0:t._$litDirective$;return(s==null?void 0:s.constructor)!==l&&((c=s==null?void 0:s._$AO)==null||c.call(s,!1),l===void 0?s=void 0:(s=new l(e),s._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(t=re(e,s._$AS(e,t.values),s,r)),t}class Ji{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,s=((t==null?void 0:t.creationScope)??X).importNode(n,!0);ee.currentNode=s;let l=ee.nextNode(),i=0,c=0,a=r[0];for(;a!==void 0;){if(i===a.index){let d;a.type===2?d=new ye(l,l.nextSibling,this,t):a.type===1?d=new a.ctor(l,a.name,a.strings,this,t):a.type===6&&(d=new ea(l,this,t)),this._$AV.push(d),a=r[++c]}i!==(a==null?void 0:a.index)&&(l=ee.nextNode(),i++)}return ee.currentNode=X,s}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}class ye{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,r,s){this.type=2,this._$AH=I,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=re(this,t,n),pe(t)?t===I||t==null||t===""?(this._$AH!==I&&this._$AR(),this._$AH=I):t!==this._$AH&&t!==Q&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):Wi(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==I&&pe(this._$AH)?this._$AA.nextSibling.data=t:this.T(X.createTextNode(t)),this._$AH=t}$(t){var l;const{values:n,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=Se.createElement(En(r.h,r.h[0]),this.options)),r);if(((l=this._$AH)==null?void 0:l._$AD)===s)this._$AH.p(n);else{const i=new Ji(s,this),c=i.u(this.options);i.p(n),this.T(c),this._$AH=i}}_$AC(t){let n=kn.get(t.strings);return n===void 0&&kn.set(t.strings,n=new Se(t)),n}k(t){Sn(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const l of t)s===n.length?n.push(r=new ye(this.S(fe()),this.S(fe()),this,this.options)):r=n[s],r._$AI(l),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}}class Pe{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,s,l){this.type=1,this._$AH=I,this._$AN=void 0,this.element=t,this.name=n,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=I}_$AI(t,n=this,r,s){const l=this.strings;let i=!1;if(l===void 0)t=re(this,t,n,0),i=!pe(t)||t!==this._$AH&&t!==Q,i&&(this._$AH=t);else{const c=t;let a,d;for(t=l[0],a=0;a<l.length-1;a++)d=re(this,c[r+a],n,a),d===Q&&(d=this._$AH[a]),i||(i=!pe(d)||d!==this._$AH[a]),d===I?t=I:t!==I&&(t+=(d??"")+l[a+1]),this._$AH[a]=d}i&&!s&&this.j(t)}j(t){t===I?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class Xi extends Pe{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===I?void 0:t}}class Yi extends Pe{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==I)}}class Qi extends Pe{constructor(t,n,r,s,l){super(t,n,r,s,l),this.type=5}_$AI(t,n=this){if((t=re(this,t,n,0)??I)===Q)return;const r=this._$AH,s=t===I&&r!==I||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,l=t!==I&&(r===I||s);s&&this.element.removeEventListener(this.name,this,r),l&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}}class ea{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){re(this,t)}}const gt=me.litHtmlPolyfillSupport;gt==null||gt(Se,ye),(me.litHtmlVersions??(me.litHtmlVersions=[])).push("3.1.4");const ta=(e,t,n)=>{const r=(n==null?void 0:n.renderBefore)??t;let s=r._$litPart$;if(s===void 0){const l=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new ye(t.insertBefore(fe(),l),l,void 0,n??{})}return s._$AI(e),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class be extends oe{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=ta(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Q}}be._$litElement$=!0,be.finalized=!0,(Hn=globalThis.litElementHydrateSupport)==null||Hn.call(globalThis,{LitElement:be});const mt=globalThis.litElementPolyfillSupport;mt==null||mt({LitElement:be}),(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.6");var na=at`
  :host {
    --slide-gap: var(--sl-spacing-medium, 1rem);
    --aspect-ratio: 16 / 9;
    --scroll-hint: 0px;

    display: flex;
  }

  .carousel {
    display: grid;
    grid-template-columns: min-content 1fr min-content;
    grid-template-rows: 1fr min-content;
    grid-template-areas:
      '. slides .'
      '. pagination .';
    gap: var(--sl-spacing-medium);
    align-items: center;
    min-height: 100%;
    min-width: 100%;
    position: relative;
  }

  .carousel__pagination {
    grid-area: pagination;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--sl-spacing-small);
  }

  .carousel__slides {
    grid-area: slides;

    display: grid;
    height: 100%;
    width: 100%;
    align-items: center;
    justify-items: center;
    overflow: auto;
    overscroll-behavior-x: contain;
    scrollbar-width: none;
    aspect-ratio: calc(var(--aspect-ratio) * var(--slides-per-page));
    border-radius: var(--sl-border-radius-small);

    --slide-size: calc((100% - (var(--slides-per-page) - 1) * var(--slide-gap)) / var(--slides-per-page));
  }

  @media (prefers-reduced-motion) {
    :where(.carousel__slides) {
      scroll-behavior: auto;
    }
  }

  .carousel__slides--horizontal {
    grid-auto-flow: column;
    grid-auto-columns: var(--slide-size);
    grid-auto-rows: 100%;
    column-gap: var(--slide-gap);
    scroll-snap-type: x mandatory;
    scroll-padding-inline: var(--scroll-hint);
    padding-inline: var(--scroll-hint);
    overflow-y: hidden;
  }

  .carousel__slides--vertical {
    grid-auto-flow: row;
    grid-auto-columns: 100%;
    grid-auto-rows: var(--slide-size);
    row-gap: var(--slide-gap);
    scroll-snap-type: y mandatory;
    scroll-padding-block: var(--scroll-hint);
    padding-block: var(--scroll-hint);
    overflow-x: hidden;
  }

  .carousel__slides--dragging {
  }

  :host([vertical]) ::slotted(sl-carousel-item) {
    height: 100%;
  }

  .carousel__slides::-webkit-scrollbar {
    display: none;
  }

  .carousel__navigation {
    grid-area: navigation;
    display: contents;
    font-size: var(--sl-font-size-x-large);
  }

  .carousel__navigation-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-small);
    font-size: inherit;
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-medium) color;
    appearance: none;
  }

  .carousel__navigation-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .carousel__navigation-button--disabled::part(base) {
    pointer-events: none;
  }

  .carousel__navigation-button--previous {
    grid-column: 1;
    grid-row: 1;
  }

  .carousel__navigation-button--next {
    grid-column: 3;
    grid-row: 1;
  }

  .carousel__pagination-item {
    display: block;
    cursor: pointer;
    background: none;
    border: 0;
    border-radius: var(--sl-border-radius-circle);
    width: var(--sl-spacing-small);
    height: var(--sl-spacing-small);
    background-color: var(--sl-color-neutral-300);
    padding: 0;
    margin: 0;
  }

  .carousel__pagination-item--active {
    background-color: var(--sl-color-neutral-700);
    transform: scale(1.2);
  }

  /* Focus styles */
  .carousel__slides:focus-visible,
  .carousel__navigation-button:focus-visible,
  .carousel__pagination-item:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }
`,_n=Object.defineProperty,oa=Object.getOwnPropertyDescriptor,vn=Object.getOwnPropertySymbols,ra=Object.prototype.hasOwnProperty,sa=Object.prototype.propertyIsEnumerable,Vn=(e,t,n)=>t in e?_n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bn=(e,t)=>{for(var n in t||(t={}))ra.call(t,n)&&Vn(e,n,t[n]);if(vn)for(var n of vn(t))sa.call(t,n)&&Vn(e,n,t[n]);return e},v=(e,t,n,r)=>{for(var s=r>1?void 0:r?oa(t,n):t,l=e.length-1,i;l>=0;l--)(i=e[l])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&_n(t,n,s),s};function la(e,t){return new Promise(n=>{function r(s){s.target===e&&(e.removeEventListener(t,r),n())}e.addEventListener(t,r)})}function Rn(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}const ft=new Set,ia=new MutationObserver(Pn),se=new Map;let Nn=document.documentElement.dir||"ltr",An=document.documentElement.lang||navigator.language,te;ia.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function In(...e){e.map(t=>{const n=t.$code.toLowerCase();se.has(n)?se.set(n,Object.assign(Object.assign({},se.get(n)),t)):se.set(n,t),te||(te=t)}),Pn()}function Pn(){Nn=document.documentElement.dir||"ltr",An=document.documentElement.lang||navigator.language,[...ft.keys()].map(e=>{typeof e.requestUpdate=="function"&&e.requestUpdate()})}let aa=class{constructor(t){this.host=t,this.host.addController(this)}hostConnected(){ft.add(this.host)}hostDisconnected(){ft.delete(this.host)}dir(){return`${this.host.dir||Nn}`.toLowerCase()}lang(){return`${this.host.lang||An}`.toLowerCase()}getTranslationData(t){var n,r;const s=new Intl.Locale(t.replace(/_/g,"-")),l=s==null?void 0:s.language.toLowerCase(),i=(r=(n=s==null?void 0:s.region)===null||n===void 0?void 0:n.toLowerCase())!==null&&r!==void 0?r:"",c=se.get(`${l}-${i}`),a=se.get(l);return{locale:s,language:l,region:i,primary:c,secondary:a}}exists(t,n){var r;const{primary:s,secondary:l}=this.getTranslationData((r=n.lang)!==null&&r!==void 0?r:this.lang());return n=Object.assign({includeFallback:!1},n),!!(s&&s[t]||l&&l[t]||n.includeFallback&&te&&te[t])}term(t,...n){const{primary:r,secondary:s}=this.getTranslationData(this.lang());let l;if(r&&r[t])l=r[t];else if(s&&s[t])l=s[t];else if(te&&te[t])l=te[t];else return console.error(`No translation found for: ${String(t)}`),String(t);return typeof l=="function"?l(...n):l}date(t,n){return t=new Date(t),new Intl.DateTimeFormat(this.lang(),n).format(t)}number(t,n){return t=Number(t),isNaN(t)?"":new Intl.NumberFormat(this.lang(),n).format(t)}relativeTime(t,n,r){return new Intl.RelativeTimeFormat(this.lang(),r).format(t,n)}};var Mn={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(e,t)=>`Go to slide ${e} of ${t}`,hidePassword:"Hide password",loading:"Loading",nextMonth:"Next month",nextSlide:"Next slide",numOptionsSelected:e=>e===0?"No options selected":e===1?"1 option selected":`${e} options selected`,previousMonth:"Previous month",previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:e=>`Slide ${e}`,toggleColorFormat:"Toggle color format"};In(Mn);var ca=Mn,da=class extends aa{};In(ca);var pt="";function xn(e){pt=e}function ht(e=""){if(!pt){const t=[...document.getElementsByTagName("script")],n=t.find(r=>r.hasAttribute("data-shoelace"));if(n)xn(n.getAttribute("data-shoelace"));else{const r=t.find(l=>/shoelace(\.min)?\.js($|\?)/.test(l.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(l.src));let s="";r&&(s=r.getAttribute("src")),xn(s.split("/").slice(0,-1).join("/"))}}return pt.replace(/\/$/,"")+(e?`/${e.replace(/^\//,"")}`:"")}var ua={name:"default",resolver:(e,t=!1)=>ht(t?`assets/bootstrap-icons/${e}.svg`:`assets/bootstrap-icons/${e.substring(0,1)}/${e}.svg`)},ga=ua,ma={name:"viur",resolver:(e,t=!1)=>ht(`/assets/icons/${e}.svg`),mutator:e=>{e.setAttribute("fill","currentColor"),[...e.querySelectorAll("*")].map(t=>t.setAttribute("fill","inherit"))}},fa=ma,Fn={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,checked:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <rect x="2" y="2" width="12" height="12" stroke-width="2"></rect>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="2" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="6"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `,search:`
    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
      <path d="M11.742 10.344a6.5 6.5 0 10-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 001.415-1.414l-3.85-3.85a1.007 1.007 0 00-.115-.1zM12 6.5a5.5 5.5 0 11-11 0 5.5 5.5 0 0111 0z"></path>
    </svg>
  `},pa={name:"system",resolver:(e,t=!1)=>e in Fn?`data:image/svg+xml,${encodeURIComponent(Fn[e])}`:""},ha=pa,Sa=[fa,ga,ha],St=[];function ya(e){St.push(e)}function ba(e){St=St.filter(t=>t!==e)}function Ln(e){return Sa.find(t=>t.name===e)}var $a=at`
  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`;function ne(e,t){const n=Bn({waitUntilFirstUpdate:!1},t);return(r,s)=>{const{update:l}=r,i=Array.isArray(e)?e:[e];r.update=function(c){i.forEach(a=>{const d=a;if(c.has(d)){const m=c.get(d),f=this[d];m!==f&&(!n.waitUntilFirstUpdate||this.hasUpdated)&&this[s](m,f)}}),l.call(this,c)}}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wa={attribute:!0,type:String,converter:Ae,reflect:!1,hasChanged:dt},Ca=(e=wa,t,n)=>{const{kind:r,metadata:s}=n;let l=globalThis.litPropertyMetadata.get(s);if(l===void 0&&globalThis.litPropertyMetadata.set(s,l=new Map),l.set(n.name,e),r==="accessor"){const{name:i}=n;return{set(c){const a=t.get.call(this);t.set.call(this,c),this.requestUpdate(i,a,e)},init(c){return c!==void 0&&this.P(i,void 0,e),c}}}if(r==="setter"){const{name:i}=n;return function(c){const a=this[i];t.call(this,c),this.requestUpdate(i,a,e)}}throw Error("Unsupported decorator location: "+r)};function P(e){return(t,n)=>typeof n=="object"?Ca(e,t,n):((r,s,l)=>{const i=s.hasOwnProperty(l);return s.constructor.createProperty(l,i?{...r,wrapped:!0}:r),i?Object.getOwnPropertyDescriptor(s,l):void 0})(e,t,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Me(e){return P({...e,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ka(e){return(t,n)=>{const r=typeof t=="function"?t:t[n];Object.assign(r,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ea=(e,t,n)=>(n.configurable=!0,n.enumerable=!0,Reflect.decorate&&typeof t!="object"&&Object.defineProperty(e,t,n),n);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Dn(e,t){return(n,r,s)=>{const l=i=>{var c;return((c=i.renderRoot)==null?void 0:c.querySelector(e))??null};return Ea(n,r,{get(){return l(this)}})}}var le=class extends be{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([e,t])=>{this.constructor.define(e,t)})}emit(e,t){const n=new CustomEvent(e,Bn({bubbles:!0,cancelable:!1,composed:!0,detail:{}},t));return this.dispatchEvent(n),n}static define(e,t=this,n={}){const r=customElements.get(e);if(!r){try{customElements.define(e,t,n)}catch{customElements.define(e,class extends t{},n)}return}let s=" (unknown version)",l=s;"version"in t&&t.version&&(s=" v"+t.version),"version"in r&&r.version&&(l=" v"+r.version),!(s&&l&&s===l)&&console.warn(`Attempted to register <${e}>${s}, but <${e}>${l} has already been registered.`)}};le.version="1.0.8-v2.16.0",le.dependencies={},v([P()],le.prototype,"dir",2),v([P()],le.prototype,"lang",2);var On=at`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: border-box;
  }

  [hidden] {
    display: none !important;
  }
`;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _a=(e,t)=>(e==null?void 0:e._$litType$)!==void 0;var $e=Symbol(),xe=Symbol(),yt,bt=new Map,O=class extends le{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default",this.vueonce=!0,this.sprite=!1}async resolveIcon(e,t){var n;let r;if(t!=null&&t.spriteSheet){this.svg=U`<svg part="svg">
        <use part="use" href="${e}"></use>
      </svg>`,await this.updateComplete;const s=this.shadowRoot.querySelector("[part='svg']");return typeof t.mutator=="function"&&t.mutator(s),this.svg}try{if(r=await fetch(e,{mode:"cors"}),!r.ok)return r.status===410?$e:xe}catch{return xe}try{const s=document.createElement("div");s.innerHTML=await r.text();const l=s.firstElementChild;if(((n=l==null?void 0:l.tagName)==null?void 0:n.toLowerCase())!=="svg")return $e;yt||(yt=new DOMParser);const c=yt.parseFromString(l.outerHTML,"text/html").body.querySelector("svg");return c?(c.part.add("svg"),document.adoptNode(c)):$e}catch{return $e}}connectedCallback(){super.connectedCallback(),ya(this)}firstUpdated(){this.sprite||this.setIcon(),this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),ba(this)}getIconSource(e=!1){const t=Ln(this.library);return this.name&&t?{url:t.resolver(this.name,e),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}getDir(){const{url:e}=this.getIconSource(!0);return e==null?void 0:e.substring(0,e==null?void 0:e.lastIndexOf("/"))}redraw(){this.sprite||this.setIcon()}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var e;const{url:t,fromLibrary:n}=this.getIconSource(),r=n?Ln(this.library):void 0;if(!t){this.svg=null;return}let s=bt.get(t);if(s||(s=this.resolveIcon(t,r),bt.set(t,s)),!this.initialRender)return;const l=await s;if(l===xe&&bt.delete(t),t===this.getIconSource().url){if(_a(l)){this.svg=l;return}switch(l){case xe:case $e:this.svg=null,this.emit("sl-error");break;default:this.svg=l.cloneNode(!0),(e=r==null?void 0:r.mutator)==null||e.call(r,this.svg),this.emit("sl-load")}}}handleChange(){this.sprite||this.setIcon()}render(){return U`
    ${this.sprite?U`<svg width="1em" height="1em">
            <use href="${this.getDir()}/_sprite.svg#${this.name}"></use>
          </svg>`:U`${this.svg}`}`}};O.styles=[On,$a],v([Me()],O.prototype,"svg",2),v([P({reflect:!0})],O.prototype,"name",2),v([P()],O.prototype,"src",2),v([P()],O.prototype,"label",2),v([P({reflect:!0})],O.prototype,"library",2),v([P({reflect:!0,type:Boolean,attribute:"v-once"})],O.prototype,"vueonce",2),v([P({reflect:!0,type:Boolean})],O.prototype,"sprite",2),v([ne("label")],O.prototype,"handleLabelChange",1),v([ne(["name","src","library"])],O.prototype,"setIcon",1);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const va={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Va=e=>(...t)=>({_$litDirective$:e,values:t});class Ba{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,r){this._$Ct=t,this._$AM=n,this._$Ci=r}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Fe=Va(class extends Ba{constructor(e){var t;if(super(e),e.type!==va.ATTRIBUTE||e.name!=="class"||((t=e.strings)==null?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,s;if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(l=>l!=="")));for(const l in t)t[l]&&!((r=this.nt)!=null&&r.has(l))&&this.st.add(l);return this.render(t)}const n=e.element.classList;for(const l of this.st)l in t||(n.remove(l),this.st.delete(l));for(const l in t){const i=!!t[l];i===this.st.has(l)||(s=this.nt)!=null&&s.has(l)||(i?(n.add(l),this.st.add(l)):(n.remove(l),this.st.delete(l)))}return Q}});/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function*Tn(e,t){if(e!==void 0){let n=0;for(const r of e)yield t(r,n++)}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function*jn(e,t,n=1){const r=t===void 0?0:e;t??(t=e);for(let s=r;n>0?s<t:t<s;s+=n)yield s}var Ra=(e,t)=>{let n=0;return function(...r){window.clearTimeout(n),n=window.setTimeout(()=>{e.call(this,...r)},t)}},zn=(e,t,n)=>{const r=e[t];e[t]=function(...s){r.call(this,...s),n.call(this,r,...s)}},Na="onscrollend"in window;if(!Na){const e=new Set,t=new WeakMap,n=s=>{for(const l of s.changedTouches)e.add(l.identifier)},r=s=>{for(const l of s.changedTouches)e.delete(l.identifier)};document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",r,!0),document.addEventListener("touchcancel",r,!0),zn(EventTarget.prototype,"addEventListener",function(s,l){if(l!=="scrollend")return;const i=Ra(()=>{e.size?i():this.dispatchEvent(new Event("scrollend"))},100);s.call(this,"scroll",i,{passive:!0}),t.set(this,i)}),zn(EventTarget.prototype,"removeEventListener",function(s,l){if(l!=="scrollend")return;const i=t.get(this);i&&s.call(this,"scroll",i,{passive:!0})})}var R=class extends le{constructor(){super(...arguments),this.loop=!1,this.navigation=!1,this.pagination=!1,this.autoplay=!1,this.autoplayInterval=3e3,this.slidesPerPage=1,this.slidesPerMove=1,this.orientation="horizontal",this.mouseDragging=!1,this.activeSlide=0,this.scrolling=!1,this.dragging=!1,this.autoplayController=new Fi(this,()=>this.next()),this.localize=new da(this),this.handleMouseDrag=e=>{this.dragging||(this.scrollContainer.style.setProperty("scroll-snap-type","none"),this.dragging=!0),this.scrollContainer.scrollBy({left:-e.movementX,top:-e.movementY,behavior:"instant"})},this.handleMouseDragEnd=()=>{const e=this.scrollContainer;document.removeEventListener("pointermove",this.handleMouseDrag,{capture:!0});const t=e.scrollLeft,n=e.scrollTop;e.style.removeProperty("scroll-snap-type"),e.style.setProperty("overflow","hidden");const r=e.scrollLeft,s=e.scrollTop;e.style.removeProperty("overflow"),e.style.setProperty("scroll-snap-type","none"),e.scrollTo({left:t,top:n,behavior:"instant"}),requestAnimationFrame(async()=>{(t!==r||n!==s)&&(e.scrollTo({left:r,top:s,behavior:Rn()?"auto":"smooth"}),await la(e,"scrollend")),e.style.removeProperty("scroll-snap-type"),this.dragging=!1,this.handleScrollEnd()})},this.handleSlotChange=e=>{e.some(n=>[...n.addedNodes,...n.removedNodes].some(r=>this.isCarouselItem(r)&&!r.hasAttribute("data-clone")))&&this.initializeSlides(),this.requestUpdate()}}connectedCallback(){super.connectedCallback(),this.setAttribute("role","region"),this.setAttribute("aria-label",this.localize.term("carousel"))}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver.disconnect()}firstUpdated(){this.initializeSlides(),this.mutationObserver=new MutationObserver(this.handleSlotChange),this.mutationObserver.observe(this,{childList:!0,subtree:!0})}willUpdate(e){(e.has("slidesPerMove")||e.has("slidesPerPage"))&&(this.slidesPerMove=Math.min(this.slidesPerMove,this.slidesPerPage))}getPageCount(){const e=this.getSlides().length,{slidesPerPage:t,slidesPerMove:n,loop:r}=this,s=r?e/n:(e-t)/n+1;return Math.ceil(s)}getCurrentPage(){return Math.ceil(this.activeSlide/this.slidesPerMove)}getShadowSlideCount(){return this.slidesPerPage-this.getSlides().length%this.slidesPerPage}canScrollNext(){return this.loop||this.getCurrentPage()<this.getPageCount()-1}canScrollPrev(){return this.loop||this.getCurrentPage()>0}getSlides({excludeClones:e=!0}={}){return[...this.children].filter(t=>this.isCarouselItem(t)&&(!e||!t.hasAttribute("data-clone")))}handleKeyDown(e){if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(e.key)){const t=e.target,n=this.matches(":dir(rtl)"),r=t.closest('[part~="pagination-item"]')!==null,s=e.key==="ArrowDown"||!n&&e.key==="ArrowRight"||n&&e.key==="ArrowLeft",l=e.key==="ArrowUp"||!n&&e.key==="ArrowLeft"||n&&e.key==="ArrowRight";e.preventDefault(),l&&this.previous(),s&&this.next(),e.key==="Home"&&this.goToSlide(0),e.key==="End"&&this.goToSlide(this.getSlides().length-1),r&&this.updateComplete.then(()=>{var i;const c=(i=this.shadowRoot)==null?void 0:i.querySelector('[part~="pagination-item--active"]');c&&c.focus()})}}handleMouseDragStart(e){this.mouseDragging&&e.button===0&&(e.preventDefault(),document.addEventListener("pointermove",this.handleMouseDrag,{capture:!0,passive:!0}),document.addEventListener("pointerup",this.handleMouseDragEnd,{capture:!0,once:!0}))}handleScroll(){this.scrolling=!0}synchronizeSlides(){const e=new IntersectionObserver(t=>{e.disconnect();for(const r of t){const s=r.target;s.toggleAttribute("inert",!r.isIntersecting),s.classList.toggle("--in-view",r.isIntersecting),s.setAttribute("aria-hidden",r.isIntersecting?"false":"true")}const n=t.find(r=>r.isIntersecting);if(n)if(this.loop&&n.target.hasAttribute("data-clone")){const r=Number(n.target.getAttribute("data-clone"));this.goToSlide(r,"instant")}else{const s=this.getSlides().indexOf(n.target);this.activeSlide=Math.ceil(s/this.slidesPerMove)*this.slidesPerMove}},{root:this.scrollContainer,threshold:.6});this.getSlides({excludeClones:!1}).forEach(t=>{e.observe(t)})}handleScrollEnd(){!this.scrolling||this.dragging||(this.synchronizeSlides(),this.scrolling=!1)}isCarouselItem(e){return e instanceof Element&&e.tagName.toLowerCase()==="sl-carousel-item"}initializeSlides(){this.getSlides({excludeClones:!1}).forEach((e,t)=>{e.classList.remove("--in-view"),e.classList.remove("--is-active"),e.setAttribute("aria-label",this.localize.term("slideNum",t+1)),e.hasAttribute("data-clone")&&e.remove()}),this.updateSlidesSnap(),this.loop&&this.createClones(),this.synchronizeSlides(),this.goToSlide(this.activeSlide,"auto")}createClones(){const e=this.getSlides(),t=this.slidesPerPage,n=e.slice(-t),r=e.slice(0,t);n.reverse().forEach((s,l)=>{const i=s.cloneNode(!0);i.setAttribute("data-clone",String(e.length-l-1)),this.prepend(i)}),r.forEach((s,l)=>{const i=s.cloneNode(!0);i.setAttribute("data-clone",String(l)),this.append(i)})}handelSlideChange(){const e=this.getSlides();e.forEach((t,n)=>{t.classList.toggle("--is-active",n===this.activeSlide)}),this.hasUpdated&&this.emit("sl-slide-change",{detail:{index:this.activeSlide,slide:e[this.activeSlide]}})}updateSlidesSnap(){const e=this.getSlides(),t=this.slidesPerMove;e.forEach((n,r)=>{(r+t)%t===0?n.style.removeProperty("scroll-snap-align"):n.style.setProperty("scroll-snap-align","none")})}handleAutoplayChange(){this.autoplayController.stop(),this.autoplay&&this.autoplayController.start(this.autoplayInterval)}previous(e="smooth"){this.goToSlide(this.activeSlide-this.slidesPerMove,e)}next(e="smooth"){this.goToSlide(this.activeSlide+this.slidesPerMove,e)}goToSlide(e,t="smooth"){const{slidesPerPage:n,loop:r}=this,s=this.getSlides(),l=this.getSlides({excludeClones:!1});if(!s.length)return;const i=r?(e+s.length)%s.length:an(e,0,s.length-1);this.activeSlide=i;const c=an(e+(r?n:0),0,l.length-1),a=l[c];this.scrollToSlide(a,Rn()?"auto":t)}scrollToSlide(e,t="smooth"){const n=this.scrollContainer,r=n.getBoundingClientRect(),s=e.getBoundingClientRect(),l=s.left-r.left,i=s.top-r.top;n.scrollTo({left:l+n.scrollLeft,top:i+n.scrollTop,behavior:t})}render(){const{slidesPerMove:e,scrolling:t}=this,n=this.getPageCount(),r=this.getCurrentPage(),s=this.canScrollPrev(),l=this.canScrollNext(),i=this.matches(":dir(ltr)");return U`
      <div part="base" class="carousel">
        <div
          id="scroll-container"
          part="scroll-container"
          class="${Fe({carousel__slides:!0,"carousel__slides--horizontal":this.orientation==="horizontal","carousel__slides--vertical":this.orientation==="vertical","carousel__slides--dragging":this.dragging})}"
          style="--slides-per-page: ${this.slidesPerPage};"
          aria-busy="${t?"true":"false"}"
          aria-atomic="true"
          tabindex="0"
          @keydown=${this.handleKeyDown}
          @mousedown="${this.handleMouseDragStart}"
          @scroll="${this.handleScroll}"
          @scrollend=${this.handleScrollEnd}
        >
          <slot></slot>
          ${Tn(jn(this.getShadowSlideCount()),()=>U`
            <sl-carousel-item class="shadow-slide"></sl-carousel-item>
            `)}

        </div>

        ${this.navigation?U`
              <div part="navigation" class="carousel__navigation">
                <button
                  part="navigation-button navigation-button--previous"
                  class="${Fe({"carousel__navigation-button":!0,"carousel__navigation-button--previous":!0,"carousel__navigation-button--disabled":!s})}"
                  aria-label="${this.localize.term("previousSlide")}"
                  aria-controls="scroll-container"
                  aria-disabled="${s?"false":"true"}"
                  @click=${s?()=>this.previous():null}
                >
                  <slot name="previous-icon">
                    <sl-icon library="system" name="${i?"chevron-left":"chevron-right"}"></sl-icon>
                  </slot>
                </button>

                <button
                  part="navigation-button navigation-button--next"
                  class=${Fe({"carousel__navigation-button":!0,"carousel__navigation-button--next":!0,"carousel__navigation-button--disabled":!l})}
                  aria-label="${this.localize.term("nextSlide")}"
                  aria-controls="scroll-container"
                  aria-disabled="${l?"false":"true"}"
                  @click=${l?()=>this.next():null}
                >
                  <slot name="next-icon">
                    <sl-icon library="system" name="${i?"chevron-right":"chevron-left"}"></sl-icon>
                  </slot>
                </button>
              </div>
            `:""}
        ${this.pagination?U`
              <div part="pagination" role="tablist" class="carousel__pagination" aria-controls="scroll-container">
                ${Tn(jn(n),c=>{const a=c===r;return U`
                    <button
                      part="pagination-item ${a?"pagination-item--active":""}"
                      class="${Fe({"carousel__pagination-item":!0,"carousel__pagination-item--active":a})}"
                      role="tab"
                      aria-selected="${a?"true":"false"}"
                      aria-label="${this.localize.term("goToSlide",c+1,n)}"
                      tabindex=${a?"0":"-1"}
                      @click=${()=>this.goToSlide(c*e)}
                      @keydown=${this.handleKeyDown}
                    ></button>
                  `})}
              </div>
            `:""}
      </div>
    `}};R.styles=[On,na],R.dependencies={"sl-icon":O},v([P({type:Boolean,reflect:!0})],R.prototype,"loop",2),v([P({type:Boolean,reflect:!0})],R.prototype,"navigation",2),v([P({type:Boolean,reflect:!0})],R.prototype,"pagination",2),v([P({type:Boolean,reflect:!0})],R.prototype,"autoplay",2),v([P({type:Number,attribute:"autoplay-interval"})],R.prototype,"autoplayInterval",2),v([P({type:Number,attribute:"slides-per-page"})],R.prototype,"slidesPerPage",2),v([P({type:Number,attribute:"slides-per-move"})],R.prototype,"slidesPerMove",2),v([P()],R.prototype,"orientation",2),v([P({type:Boolean,reflect:!0,attribute:"mouse-dragging"})],R.prototype,"mouseDragging",2),v([Dn(".carousel__slides")],R.prototype,"scrollContainer",2),v([Dn(".carousel__pagination")],R.prototype,"paginationContainer",2),v([Me()],R.prototype,"activeSlide",2),v([Me()],R.prototype,"scrolling",2),v([Me()],R.prototype,"dragging",2),v([ka({passive:!0})],R.prototype,"handleScroll",1),v([ne("loop",{waitUntilFirstUpdate:!0}),ne("slidesPerPage",{waitUntilFirstUpdate:!0})],R.prototype,"initializeSlides",1),v([ne("activeSlide")],R.prototype,"handelSlideChange",1),v([ne("slidesPerMove")],R.prototype,"updateSlidesSnap",1),v([ne("autoplay")],R.prototype,"handleAutoplayChange",1),R.define("sl-carousel");const Aa={class:"wrap"},Ia={class:"viur-shop-item-view-image-wrap"},Pa={class:"viur-shop-item-view-carousel-thumbnails",navigation:"",loop:""},Ma=["alt","src"],xa={class:"viur-shop-item-view-thumbnails"},Fa={class:"viur-shop-item-view-thumbnails-scroller"},La=["alt","src"],Da={class:"viur-shop-item-view-info-wrap"},Oa={class:"viur-shop-item-view-headline"},Ta={class:"viur-shop-item-view-price"},ja={class:"viur-shop-item-view-btn-wrap"},za={class:"viur-shop-item-view-item-grid"},Ha=Object.freeze(Object.defineProperty({__proto__:null,default:E({__name:"ItemView",setup(e){const t=T.useRoute(),n=o.reactive({item:{}});function r(s){console.log("hier",s.dk_artikel);let l="https://images.unsplash.com/photo-1559209172-0ff8f6d49ff7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=80";return s!=null&&s.dk_artikel.dest.image?we.Request.downloadUrlFor(s.dk_artikel.dest.image):l}return o.onBeforeMount(async()=>{we.Request.get(`/json/variante/view/${t.params.item}`).then(async s=>{let l=await s.json();n.item=l.values})}),(s,l)=>(o.openBlock(),o.createElementBlock(o.Fragment,null,[o.createElementVNode("div",Aa,[o.createElementVNode("div",Ia,[o.createElementVNode("sl-carousel",Pa,[o.createElementVNode("sl-carousel-item",null,[o.createElementVNode("img",{alt:n.item.shop_name,src:r(n.item)},null,8,Ma)])]),o.createElementVNode("div",xa,[o.createElementVNode("div",Fa,[o.createElementVNode("img",{alt:n.item.shop_name,class:"viur-shop-item-view-thumbnails-image active",src:r(n.item)},null,8,La)])])]),o.createElementVNode("div",Da,[o.createElementVNode("h1",Oa,o.toDisplayString(n.item.shop_name),1),l[3]||(l[3]=o.createElementVNode("h2",{class:"viur-shop-item-view-subline"},"B 21 x H 6,5 x T 19 cm",-1)),o.createElementVNode("div",Ta,o.toDisplayString(n.item.shop_price_retail)+" € ",1),l[4]||(l[4]=o.createElementVNode("div",{class:"viur-shop-item-view-paragraph"}," Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ",-1)),o.createElementVNode("div",ja,[o.createElementVNode("sl-button",{size:"small",class:"viur-shop-item-view-add-to-cart-btn",variant:"primary",title:"Add to cart",onClick:l[0]||(l[0]=o.withModifiers(i=>s.cartStore.addToCart(s.item.key,s.cartStore.state.currentCart),["stop"]))},l[1]||(l[1]=[o.createElementVNode("sl-icon",{name:"bag-plus",slot:"prefix"},null,-1),o.createTextVNode(" In den Warenkorb ")])),l[2]||(l[2]=o.createElementVNode("sl-button",{size:"small",outline:"",class:"viur-shop-item-view-add-to-favourites-btn",variant:"primary",title:"Add to favourites"},[o.createElementVNode("sl-icon",{name:"heart",slot:"prefix"}),o.createTextVNode(" Auf die Wunschliste ")],-1))])])]),l[5]||(l[5]=o.createElementVNode("br",null,null,-1)),l[6]||(l[6]=o.createElementVNode("h1",{class:"viur-shop-item-view-headline"},"Ähnliche Artikel",-1)),o.createElementVNode("div",za,[o.createVNode(ln,{item:n.item},null,8,["item"])])],64))}},[["__scopeId","data-v-720fb199"]])},Symbol.toStringTag,{value:"Module"}));V.CartView=Ce,V.ConfirmView=nt,V.ExampleUsage=sn,V.OrderComplete=Ft,V.ShopOrderStepper=wt,V.UserInfoMulti=rn,V.UserInformation=on,V.createRouterInstance=Xn,V.default=Ei,V.useCartStore=j,Object.defineProperties(V,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
